<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±</title>
  <meta name="description" content="Ù…Ù†ÙˆÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ± Ø¨Ø§ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù…Ù„ Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§" />
  <meta name="color-scheme" content="dark light">
  
  <!-- ÙÙˆÙ†Øª Vazir -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vazirmatn@latest/Vazirmatn-font-face.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css">
  
  <style>
    /* ================== ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÙ‡ Ùˆ Ù…ØªØºÛŒØ±Ù‡Ø§ ================== */
    :root {
      --bg: #0b0b10;
      --bg-soft: #12121a;
      --card: #171722;
      --glass: rgba(255,255,255,0.04);
      --primary: #ffb703;
      --secondary: #fb8500;
      --accent: #00b4d8;
      --text: #f4f4f6;
      --muted: #9aa0a6;
      --border: rgba(255,255,255,0.06);
      --radius: 16px;
      --shadow: 0 18px 40px rgba(0,0,0,0.5);
      --transition: 250ms cubic-bezier(.2,.9,.2,1);
      --header-height: 72px;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --info: #3b82f6;
    }

    .light {
      --bg: #f6f7fb;
      --bg-soft: #ffffff;
      --card: #ffffff;
      --glass: rgba(0,0,0,0.03);
      --primary: #ff8a00;
      --secondary: #ffb703;
      --accent: #0077b6;
      --text: #0b1220;
      --muted: #6b7280;
      --border: rgba(11,18,32,0.06);
      --shadow: 0 12px 30px rgba(11,18,32,0.06);
      --success: #059669;
      --danger: #dc2626;
      --warning: #d97706;
      --info: #1d4ed8;
    }

    /* Ù¾Ø§ÛŒÙ‡ */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      font-family: 'Vazirmatn', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* ================== Ù‡Ø¯Ø± ================== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      height: var(--header-height);
      backdrop-filter: blur(20px);
      background: rgba(11,11,16,0.95);
      border-bottom: 1px solid var(--border);
      transition: all var(--transition);
    }

    .header-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 24px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 16px;
      text-decoration: none;
    }

    .logo {
      width: 56px;
      height: 56px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      color: #000;
      font-size: 24px;
      box-shadow: var(--shadow);
      border: 2px solid rgba(255,255,255,0.1);
    }

    .brand-text h1 {
      font-size: 1.4rem;
      margin: 0;
      color: var(--primary);
    }

    .brand-text p {
      font-size: 0.85rem;
      color: var(--muted);
      margin: 4px 0 0;
    }

    /* Ù†Ø§ÙˆØ¨Ø±ÛŒ */
    .nav-main {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .nav-link {
      padding: 10px 18px;
      text-decoration: none;
      color: var(--text);
      border-radius: 50px;
      font-weight: 500;
      font-size: 0.95rem;
      transition: all var(--transition);
    }

    .nav-link:hover {
      background: rgba(255,183,3,0.1);
    }

    .nav-link.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      font-weight: 700;
    }

    /* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ */
    .header-controls {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .btn {
      padding: 10px 20px;
      border-radius: 50px;
      border: none;
      font-family: inherit;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn:hover {
      transform: translateY(-2px);
    }

    .btn-admin {
      background: linear-gradient(135deg, var(--accent), #0096c7);
      color: white;
    }

    .btn-theme {
      background: var(--glass);
      color: var(--text);
      border: 1px solid var(--border);
      width: 48px;
      height: 48px;
      padding: 0;
      justify-content: center;
    }

    /* ================== Ù‡ÛŒØ±Ùˆ ================== */
    .hero {
      padding: 160px 24px 80px;
      max-width: 1400px;
      margin: 0 auto;
      text-align: center;
    }

    .hero-content h2 {
      font-size: 3.5rem;
      line-height: 1.2;
      margin-bottom: 24px;
      color: var(--primary);
    }

    .hero-content p {
      font-size: 1.2rem;
      color: var(--muted);
      margin-bottom: 32px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-actions {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      padding: 14px 32px;
      font-size: 1.1rem;
    }

    .btn-outline {
      background: transparent;
      color: var(--text);
      border: 2px solid var(--border);
      padding: 14px 32px;
      font-size: 1.1rem;
    }

    /* ================== Ù…Ù†Ùˆ ================== */
    .menu-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px 120px;
    }

    .menu-toolbar {
      background: var(--glass);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 48px;
      border: 1px solid var(--border);
    }

    .filters {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }

    .filter-btn {
      padding: 12px 24px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 50px;
      color: var(--muted);
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition);
    }

    .filter-btn:hover {
      background: rgba(255,255,255,0.05);
    }

    .filter-btn.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      font-weight: 700;
    }

    .search-box {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 50px;
      padding: 12px 24px;
      max-width: 400px;
      margin-right: auto;
    }

    .search-box input {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 1rem;
      outline: none;
    }

    /* Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ */
    .menu-section {
      margin-bottom: 80px;
    }

    .section-header {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 2px solid var(--border);
    }

    .section-title {
      font-size: 2.2rem;
      color: var(--primary);
      margin: 0;
    }

    /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
    }

    .menu-card {
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      transition: all var(--transition);
    }

    .menu-card:hover {
      transform: translateY(-10px);
      border-color: var(--primary);
    }

    .menu-card.unavailable {
      opacity: 0.6;
    }

    .menu-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-bottom: 1px solid var(--border);
    }

    .card-content {
      padding: 24px;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .menu-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--text);
      margin: 0;
      flex: 1;
    }

    .menu-price {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--primary);
      margin-right: 12px;
    }

    .menu-description {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .badge {
      padding: 6px 14px;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 700;
    }

    .badge-new {
      background: var(--accent);
      color: white;
    }

    .badge-popular {
      background: var(--primary);
      color: #000;
    }

    .btn-details {
      padding: 10px 20px;
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 50px;
      font-weight: 500;
      cursor: pointer;
    }

    /* ================== Ù…ÙˆØ¯Ø§Ù„ ================== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(2,2,6,0.85);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-radius: 24px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }

    .modal-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(0,0,0,0.5);
      border: 1px solid var(--border);
      color: white;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      padding: 40px;
    }

    .modal-title {
      font-size: 2.2rem;
      color: var(--text);
      margin-bottom: 16px;
    }

    .modal-price {
      font-size: 1.8rem;
      color: var(--primary);
      font-weight: 800;
      margin-bottom: 24px;
    }

    /* ================== Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ================== */
    .admin-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg);
      z-index: 3000;
      display: none;
      overflow-y: auto;
    }

    .admin-overlay.active {
      display: block;
    }

    .admin-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 24px;
      min-height: 100vh;
    }

    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--border);
    }

    .admin-title {
      font-size: 2.5rem;
      color: var(--accent);
      margin: 0;
    }

    .admin-grid {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 40px;
    }

    .admin-sidebar {
      background: var(--card);
      border-radius: 24px;
      padding: 30px;
      border: 1px solid var(--border);
    }

    .items-list {
      max-height: 500px;
      overflow-y: auto;
      margin-bottom: 24px;
    }

    .item-card {
      background: var(--glass);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
      border: 1px solid var(--border);
      cursor: pointer;
    }

    .item-card.active {
      background: rgba(255,183,3,0.15);
      border-color: var(--primary);
    }

    .admin-form {
      background: var(--card);
      border-radius: 24px;
      padding: 40px;
      border: 1px solid var(--border);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 32px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-input,
    .form-select,
    .form-textarea {
      padding: 16px 20px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 12px;
      color: var(--text);
      font-size: 1rem;
      font-family: inherit;
      width: 100%;
    }

    .form-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .form-actions {
      display: flex;
      gap: 16px;
      margin-top: 32px;
      padding-top: 32px;
      border-top: 1px solid var(--border);
    }

    .btn-save {
      background: var(--success);
      color: white;
      padding: 16px 32px;
      flex: 1;
    }

    .btn-cancel {
      background: var(--glass);
      color: var(--text);
      border: 1px solid var(--border);
      padding: 16px 32px;
    }

    .btn-delete {
      background: var(--danger);
      color: white;
      padding: 16px 32px;
    }

    .btn-logout {
      background: var(--danger);
      color: white;
    }

    /* ================== ÙØ±Ù… ÙˆØ±ÙˆØ¯ ================== */
    .login-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(2,2,6,0.9);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 4000;
    }

    .login-overlay.active {
      display: flex;
    }

    .login-box {
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-radius: 24px;
      padding: 60px;
      width: 100%;
      max-width: 480px;
      border: 1px solid var(--border);
    }

    .login-title {
      font-size: 2.2rem;
      text-align: center;
      color: var(--accent);
      margin-bottom: 40px;
    }

    .login-form {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .login-error {
      color: var(--danger);
      text-align: center;
      padding: 16px;
      background: rgba(239,68,68,0.1);
      border-radius: 12px;
      border: 1px solid var(--danger);
      display: none;
    }

    .login-error.show {
      display: block;
    }

    /* ================== Toast ================== */
    .toast {
      position: fixed;
      bottom: 40px;
      right: 40px;
      padding: 16px 24px;
      background: var(--card);
      border-radius: 12px;
      border: 1px solid var(--border);
      color: var(--text);
      font-weight: 500;
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 5000;
    }

    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }

    .toast.success {
      background: var(--success);
      color: white;
    }

    .toast.error {
      background: var(--danger);
      color: white;
    }

    /* ================== Responsive ================== */
    @media (max-width: 768px) {
      .nav-main {
        display: none;
      }
      
      .hero-content h2 {
        font-size: 2.2rem;
      }
      
      .menu-grid {
        grid-template-columns: 1fr;
      }
      
      .admin-grid {
        grid-template-columns: 1fr;
      }
      
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .form-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <!-- Ù‡Ø¯Ø± -->
  <header id="header">
    <div class="header-container">
      <a href="#" class="brand">
        <div class="logo">â˜•</div>
        <div class="brand-text">
          <h1>Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±</h1>
          <p>Ù…Ù†ÙˆÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</p>
        </div>
      </a>

      <nav class="nav-main">
        <a href="#all" class="nav-link active" data-category="all">Ù‡Ù…Ù‡</a>
        <a href="#coffee" class="nav-link" data-category="Ù‚Ù‡ÙˆÙ‡">Ù‚Ù‡ÙˆÙ‡</a>
        <a href="#tea" class="nav-link" data-category="Ú†Ø§ÛŒ">Ú†Ø§ÛŒ</a>
        <a href="#dessert" class="nav-link" data-category="Ø¯Ø³Ø±">Ø¯Ø³Ø±</a>
      </nav>

      <div class="header-controls">
        <button class="btn btn-admin" id="adminBtn">
          Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
        </button>
        <button class="btn btn-theme" id="themeBtn">
          ğŸŒ™
        </button>
      </div>
    </div>
  </header>

  <!-- Ù‡ÛŒØ±Ùˆ -->
  <section class="hero" id="hero">
    <div class="hero-content">
      <h2>Ù…Ù†ÙˆÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±</h2>
      <p>
        Ø¨Ù‡ØªØ±ÛŒÙ† Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§ Ùˆ Ø¯Ø³Ø±Ù‡Ø§ Ø±Ø§ Ø¯Ø± ÙØ¶Ø§ÛŒÛŒ Ø¢Ø±Ø§Ù… Ùˆ Ø¯Ù„Ù†Ø´ÛŒÙ† ØªØ¬Ø±Ø¨Ù‡ Ú©Ù†ÛŒØ¯
      </p>
      <div class="hero-actions">
        <button class="btn btn-primary" id="scrollToMenu">
          Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ù†Ùˆ
        </button>
      </div>
    </div>
  </section>

  <!-- Ø¨Ø®Ø´ Ù…Ù†Ùˆ -->
  <main class="menu-container" id="menuContainer">
    <div class="menu-toolbar">
      <div class="filters" id="filters">
        <button class="filter-btn active" data-category="all">Ù‡Ù…Ù‡</button>
        <button class="filter-btn" data-category="Ù‚Ù‡ÙˆÙ‡">Ù‚Ù‡ÙˆÙ‡</button>
        <button class="filter-btn" data-category="Ú†Ø§ÛŒ">Ú†Ø§ÛŒ</button>
        <button class="filter-btn" data-category="Ø¯Ø³Ø±">Ø¯Ø³Ø±</button>
        <button class="filter-btn" data-category="ØºØ°Ø§ÛŒ Ø³Ø¨Ú©">ØºØ°Ø§ÛŒ Ø³Ø¨Ú©</button>
      </div>
      
      <div class="search-box">
        <input type="text" 
               id="searchInput" 
               placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù…Ù†Ùˆ...">
      </div>
    </div>

    <!-- Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ -->
    <div class="menu-grid" id="menuGrid">
      <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
      <div class="loading" style="text-align: center; padding: 50px; color: var(--muted);">
        Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù†Ùˆ...
      </div>
    </div>
  </main>

  <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¬Ø²Ø¦ÛŒØ§Øª -->
  <div class="modal-overlay" id="detailModal">
    <div class="modal">
      <div class="modal-header">
        <img id="modalImage" src="" alt="" class="modal-image">
        <button class="modal-close" id="modalClose">&times;</button>
      </div>
      <div class="modal-content">
        <h2 class="modal-title" id="modalTitle"></h2>
        <div class="modal-price" id="modalPrice"></div>
        <p class="modal-description" id="modalDescription"></p>
        
        <div class="modal-meta" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 30px;">
          <div>
            <div style="color: var(--muted); font-size: 0.9rem;">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</div>
            <div style="font-weight: 600;" id="modalCategory"></div>
          </div>
          <div>
            <div style="color: var(--muted); font-size: 0.9rem;">ÙˆØ¶Ø¹ÛŒØª</div>
            <div style="font-weight: 600;" id="modalStatus"></div>
          </div>
          <div>
            <div style="color: var(--muted); font-size: 0.9rem;">ØªØ®ÙÛŒÙ</div>
            <div style="font-weight: 600;" id="modalDiscount"></div>
          </div>
          <div>
            <div style="color: var(--muted); font-size: 0.9rem;">Ø¨Ø±Ú†Ø³Ø¨</div>
            <div style="font-weight: 600;" id="modalBadge"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª -->
  <div class="admin-overlay" id="adminPanel">
    <div class="admin-container">
      <div class="admin-header">
        <h1 class="admin-title">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù†Ùˆ</h1>
        <div class="header-controls">
          <button class="btn btn-logout" id="logoutBtn">Ø®Ø±ÙˆØ¬</button>
          <button class="btn btn-cancel" id="backBtn">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
        </div>
      </div>
      
      <div class="admin-grid">
        <div class="admin-sidebar">
          <h3 style="color: var(--text); margin-bottom: 24px;">Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ</h3>
          <div class="items-list" id="itemsList">
            <!-- Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ -->
          </div>
          <button class="btn btn-primary" id="addNewBtn" style="width: 100%;">
            + Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
          </button>
        </div>
        
        <div class="admin-form">
          <h2 class="form-title" id="formTitle">Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯</h2>
          
          <div class="form-grid">
            <div class="form-group">
              <label for="itemName" class="form-label">Ù†Ø§Ù… Ø¢ÛŒØªÙ… *</label>
              <input type="text" id="itemName" class="form-input" placeholder="Ù…Ø«Ø§Ù„: Ø§Ø³Ù¾Ø±Ø³Ùˆ">
            </div>
            
            <div class="form-group">
              <label for="itemCategory" class="form-label">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ *</label>
              <select id="itemCategory" class="form-select">
                <option value="Ù‚Ù‡ÙˆÙ‡">Ù‚Ù‡ÙˆÙ‡</option>
                <option value="Ú†Ø§ÛŒ">Ú†Ø§ÛŒ</option>
                <option value="Ø¯Ø³Ø±">Ø¯Ø³Ø±</option>
                <option value="ØºØ°Ø§ÛŒ Ø³Ø¨Ú©">ØºØ°Ø§ÛŒ Ø³Ø¨Ú©</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="itemPrice" class="form-label">Ù‚ÛŒÙ…Øª (Ø±ÛŒØ§Ù„) *</label>
              <input type="number" id="itemPrice" class="form-input" placeholder="45000" min="0">
            </div>
            
            <div class="form-group">
              <label for="itemDiscount" class="form-label">ØªØ®ÙÛŒÙ (%)</label>
              <input type="number" id="itemDiscount" class="form-input" placeholder="0" min="0" max="100">
            </div>
            
            <div class="form-group">
              <label for="itemStatus" class="form-label">ÙˆØ¶Ø¹ÛŒØª</label>
              <select id="itemStatus" class="form-select">
                <option value="available">Ù…ÙˆØ¬ÙˆØ¯</option>
                <option value="unavailable">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="itemBadge" class="form-label">Ø¨Ø±Ú†Ø³Ø¨</label>
              <select id="itemBadge" class="form-select">
                <option value="">Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ú†Ø³Ø¨</option>
                <option value="new">Ø¬Ø¯ÛŒØ¯</option>
                <option value="popular">Ù¾Ø±ÙØ±ÙˆØ´</option>
                <option value="special">ÙˆÛŒÚ˜Ù‡</option>
              </select>
            </div>
            
            <div class="form-group full-width">
              <label for="itemDescription" class="form-label">ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
              <textarea id="itemDescription" class="form-textarea" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„ Ø¢ÛŒØªÙ…..."></textarea>
            </div>
            
            <div class="form-group full-width">
              <label for="itemImage" class="form-label">Ø¢Ø¯Ø±Ø³ Ø¹Ú©Ø³ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
              <input type="text" id="itemImage" class="form-input" placeholder="https://example.com/image.jpg">
              <small style="color: var(--muted); font-size: 0.9rem;">Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¹Ú©Ø³ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯</small>
            </div>
          </div>
          
          <div class="form-actions">
            <button class="btn btn-save" id="saveBtn">Ø°Ø®ÛŒØ±Ù‡</button>
            <button class="btn btn-cancel" id="cancelBtn">Ø§Ù†ØµØ±Ø§Ù</button>
            <button class="btn btn-delete" id="deleteBtn" style="display: none;">Ø­Ø°Ù</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ÙØ±Ù… ÙˆØ±ÙˆØ¯ -->
  <div class="login-overlay" id="loginModal">
    <div class="login-box">
      <h2 class="login-title">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
      <div class="login-form">
        <div class="form-group">
          <input type="text" id="username" class="form-input" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
        </div>
        <div class="form-group">
          <input type="password" id="password" class="form-input" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
        </div>
        <button class="btn btn-primary" id="loginBtn" style="width: 100%;">ÙˆØ±ÙˆØ¯</button>
        <div class="login-error" id="loginError">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª</div>
        <div style="text-align: center; color: var(--muted); font-size: 0.9rem; margin-top: 20px;">
          Ú©Ø§Ø±Ø¨Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶: matin / 1025
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <script>
    // ================== ØªÙ†Ø¸ÛŒÙ…Ø§Øª ==================
    const API_BASE_URL = 'https://toptanoor.pythonanywhere.com';
    const API_ENDPOINTS = {
      MENU_ITEMS: '/api/menu-items',
      LOGIN: '/api/login',
      UPLOAD: '/api/upload'
    };

    // ================== ÙˆØ¶Ø¹ÛŒØª Ø¨Ø±Ù†Ø§Ù…Ù‡ ==================
    let state = {
      menuItems: [],
      currentUser: null,
      token: localStorage.getItem('token'),
      currentEditId: null,
      activeCategory: 'all',
      searchQuery: '',
      theme: localStorage.getItem('theme') || 'dark'
    };

    // ================== Ø¹Ù†Ø§ØµØ± DOM ==================
    const elements = {
      // Ù‡Ø¯Ø±
      adminBtn: document.getElementById('adminBtn'),
      themeBtn: document.getElementById('themeBtn'),
      
      // Ù…Ù†Ùˆ
      menuGrid: document.getElementById('menuGrid'),
      searchInput: document.getElementById('searchInput'),
      filters: document.getElementById('filters'),
      scrollToMenu: document.getElementById('scrollToMenu'),
      
      // Ù…ÙˆØ¯Ø§Ù„
      detailModal: document.getElementById('detailModal'),
      modalClose: document.getElementById('modalClose'),
      modalTitle: document.getElementById('modalTitle'),
      modalPrice: document.getElementById('modalPrice'),
      modalDescription: document.getElementById('modalDescription'),
      modalImage: document.getElementById('modalImage'),
      modalCategory: document.getElementById('modalCategory'),
      modalStatus: document.getElementById('modalStatus'),
      modalDiscount: document.getElementById('modalDiscount'),
      modalBadge: document.getElementById('modalBadge'),
      
      // Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
      adminPanel: document.getElementById('adminPanel'),
      backBtn: document.getElementById('backBtn'),
      logoutBtn: document.getElementById('logoutBtn'),
      itemsList: document.getElementById('itemsList'),
      addNewBtn: document.getElementById('addNewBtn'),
      
      // ÙØ±Ù…
      formTitle: document.getElementById('formTitle'),
      itemName: document.getElementById('itemName'),
      itemCategory: document.getElementById('itemCategory'),
      itemPrice: document.getElementById('itemPrice'),
      itemDiscount: document.getElementById('itemDiscount'),
      itemStatus: document.getElementById('itemStatus'),
      itemBadge: document.getElementById('itemBadge'),
      itemDescription: document.getElementById('itemDescription'),
      itemImage: document.getElementById('itemImage'),
      saveBtn: document.getElementById('saveBtn'),
      cancelBtn: document.getElementById('cancelBtn'),
      deleteBtn: document.getElementById('deleteBtn'),
      
      // Ù„Ø§Ú¯ÛŒÙ†
      loginModal: document.getElementById('loginModal'),
      username: document.getElementById('username'),
      password: document.getElementById('password'),
      loginBtn: document.getElementById('loginBtn'),
      loginError: document.getElementById('loginError'),
      
      // Toast
      toast: document.getElementById('toast')
    };

    // ================== ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ==================
    const utils = {
      // ÙØ±Ù…Øª Ù‚ÛŒÙ…Øª
      formatPrice(price) {
        return new Intl.NumberFormat('fa-IR').format(price) + ' Ø±ÛŒØ§Ù„';
      },
      
      // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…
      showToast(message, type = 'info', duration = 3000) {
        const toast = elements.toast;
        toast.textContent = message;
        toast.className = 'toast';
        toast.classList.add(type, 'show');
        
        setTimeout(() => {
          toast.classList.remove('show');
        }, duration);
      },
      
      // Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§
      handleError(error) {
        console.error(error);
        let message = 'Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯Ù‡ Ø§Ø³Øª';
        
        if (error.message.includes('Network')) {
          message = 'Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ±';
        } else if (error.message.includes('401')) {
          message = 'Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯';
        } else if (error.message.includes('404')) {
          message = 'Ù…Ù†Ø¨Ø¹ ÛŒØ§ÙØª Ù†Ø´Ø¯';
        } else if (error.message.includes('500')) {
          message = 'Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±';
        }
        
        this.showToast(message, 'error');
      },
      
      // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ±Ù…
      validateForm(formData) {
        if (!formData.name || formData.name.trim().length < 2) {
          return 'Ù†Ø§Ù… Ø¢ÛŒØªÙ… Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û² Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯';
        }
        if (!formData.price || formData.price <= 0) {
          return 'Ù‚ÛŒÙ…Øª Ø¨Ø§ÛŒØ¯ Ø¨Ø²Ø±Ú¯ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯';
        }
        if (formData.discount < 0 || formData.discount > 100) {
          return 'ØªØ®ÙÛŒÙ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† Û° ØªØ§ Û±Û°Û° Ø¨Ø§Ø´Ø¯';
        }
        return null;
      }
    };

    // ================== Ù…Ø¯ÛŒØ±ÛŒØª API ==================
    const api = {
      // Ù‡Ø¯Ø±Ù‡Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
      getHeaders() {
        const headers = {
          'Content-Type': 'application/json'
        };
        if (state.token) {
          headers['Authorization'] = `Bearer ${state.token}`;
        }
        return headers;
      },
      
      // Ø¯Ø±ÛŒØ§ÙØª Ù…Ù†Ùˆ
      async fetchMenuItems() {
        try {
          const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.MENU_ITEMS}`, {
            headers: this.getHeaders()
          });
          
          if (!response.ok) {
            throw new Error(`Ø®Ø·Ø§: ${response.status}`);
          }
          
          return await response.json();
        } catch (error) {
          utils.handleError(error);
          throw error;
        }
      },
      
      // Ø¯Ø±ÛŒØ§ÙØª ÛŒÚ© Ø¢ÛŒØªÙ…
      async fetchMenuItem(id) {
        try {
          const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.MENU_ITEMS}/${id}`, {
            headers: this.getHeaders()
          });
          
          if (!response.ok) throw new Error(`Ø®Ø·Ø§: ${response.status}`);
          return await response.json();
        } catch (error) {
          utils.handleError(error);
          throw error;
        }
      },
      
      // Ø§ÛŒØ¬Ø§Ø¯ Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
      async createMenuItem(data) {
        try {
          const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.MENU_ITEMS}`, {
            method: 'POST',
            headers: this.getHeaders(),
            body: JSON.stringify(data)
          });
          
          if (!response.ok) throw new Error(`Ø®Ø·Ø§: ${response.status}`);
          return await response.json();
        } catch (error) {
          utils.handleError(error);
          throw error;
        }
      },
      
      // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…
      async updateMenuItem(id, data) {
        try {
          const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.MENU_ITEMS}/${id}`, {
            method: 'PUT',
            headers: this.getHeaders(),
            body: JSON.stringify(data)
          });
          
          if (!response.ok) throw new Error(`Ø®Ø·Ø§: ${response.status}`);
          return await response.json();
        } catch (error) {
          utils.handleError(error);
          throw error;
        }
      },
      
      // Ø­Ø°Ù Ø¢ÛŒØªÙ…
      async deleteMenuItem(id) {
        try {
          const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.MENU_ITEMS}/${id}`, {
            method: 'DELETE',
            headers: this.getHeaders()
          });
          
          if (!response.ok) throw new Error(`Ø®Ø·Ø§: ${response.status}`);
          return await response.json();
        } catch (error) {
          utils.handleError(error);
          throw error;
        }
      },
      
      // Ù„Ø§Ú¯ÛŒÙ†
      async login(username, password) {
        try {
          const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.LOGIN}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
          });
          
          if (!response.ok) throw new Error(`Ø®Ø·Ø§: ${response.status}`);
          return await response.json();
        } catch (error) {
          utils.handleError(error);
          throw error;
        }
      }
    };

    // ================== Ù…Ø¯ÛŒØ±ÛŒØª UI ==================
    const ui = {
      // Ø±Ù†Ø¯Ø± Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ
      renderMenuItems(items) {
        if (!items || items.length === 0) {
          elements.menuGrid.innerHTML = `
            <div style="text-align: center; padding: 50px; color: var(--muted); grid-column: 1/-1;">
              Ø¢ÛŒØªÙ…ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯
            </div>
          `;
          return;
        }
        
        const filteredItems = this.filterItems(items);
        
        elements.menuGrid.innerHTML = filteredItems.map(item => {
          const finalPrice = item.discount > 0 
            ? Math.round(item.price * (100 - item.discount) / 100)
            : item.price;
          
          return `
            <div class="menu-card ${item.status === 'unavailable' ? 'unavailable' : ''}" 
                 data-id="${item.id}"
                 data-category="${item.category}">
              ${item.image_url ? `
                <img src="${API_BASE_URL}${item.image_url}" 
                     alt="${item.name}" 
                     class="menu-image">
              ` : `
                <div class="menu-image" style="background: var(--glass); display: flex; align-items: center; justify-content: center;">
                  <span style="color: var(--muted); font-size: 2rem;">â˜•</span>
                </div>
              `}
              
              <div class="card-content">
                <div class="card-header">
                  <h3 class="menu-title">${item.name}</h3>
                  <div class="menu-price">
                    ${utils.formatPrice(finalPrice)}
                    ${item.discount > 0 ? `
                      <span style="color: var(--muted); text-decoration: line-through; font-size: 0.9rem;">
                        ${utils.formatPrice(item.price)}
                      </span>
                    ` : ''}
                  </div>
                </div>
                
                <p class="menu-description">${item.description}</p>
                
                <div class="card-footer">
                  ${item.badge ? `
                    <span class="badge badge-${item.badge}">
                      ${item.badge === 'new' ? 'Ø¬Ø¯ÛŒØ¯' : 
                        item.badge === 'popular' ? 'Ù¾Ø±ÙØ±ÙˆØ´' : 
                        item.badge === 'special' ? 'ÙˆÛŒÚ˜Ù‡' : item.badge}
                    </span>
                  ` : ''}
                  
                  <button class="btn-details" onclick="ui.showItemDetail(${item.id})">
                    Ø¬Ø²Ø¦ÛŒØ§Øª
                  </button>
                </div>
              </div>
            </div>
          `;
        }).join('');
      },
      
      // ÙÛŒÙ„ØªØ± Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§
      filterItems(items) {
        let filtered = [...items];
        
        // ÙÛŒÙ„ØªØ± Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
        if (state.activeCategory !== 'all') {
          filtered = filtered.filter(item => item.category === state.activeCategory);
        }
        
        // ÙÛŒÙ„ØªØ± Ø¬Ø³ØªØ¬Ùˆ
        if (state.searchQuery) {
          const query = state.searchQuery.toLowerCase();
          filtered = filtered.filter(item => 
            item.name.toLowerCase().includes(query) || 
            item.description.toLowerCase().includes(query)
          );
        }
        
        return filtered;
      },
      
      // Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¢ÛŒØªÙ…
      async showItemDetail(id) {
        try {
          const item = await api.fetchMenuItem(id);
          
          elements.modalTitle.textContent = item.name;
          elements.modalPrice.textContent = utils.formatPrice(item.price);
          elements.modalDescription.textContent = item.description;
          
          if (item.image_url) {
            elements.modalImage.src = `${API_BASE_URL}${item.image_url}`;
          } else {
            elements.modalImage.src = '';
            elements.modalImage.alt = item.name;
          }
          
          elements.modalCategory.textContent = item.category;
          elements.modalStatus.textContent = item.status === 'available' ? 'Ù…ÙˆØ¬ÙˆØ¯' : 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯';
          elements.modalDiscount.textContent = item.discount > 0 ? `${item.discount}%` : 'Ù†Ø¯Ø§Ø±Ø¯';
          elements.modalBadge.textContent = item.badge || 'Ù†Ø¯Ø§Ø±Ø¯';
          
          elements.detailModal.classList.add('active');
        } catch (error) {
          utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª', 'error');
        }
      },
      
      // Ø±Ù†Ø¯Ø± Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø¯Ø± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
      renderItemsList() {
        elements.itemsList.innerHTML = state.menuItems.map(item => `
          <div class="item-card ${state.currentEditId === item.id ? 'active' : ''}" 
               onclick="ui.editItem(${item.id})">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <div style="font-weight: 600;">${item.name}</div>
                <div style="color: var(--muted); font-size: 0.9rem;">${item.category}</div>
              </div>
              <div style="color: var(--primary); font-weight: 600;">
                ${utils.formatPrice(item.price)}
              </div>
            </div>
          </div>
        `).join('');
      },
      
      // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…
      editItem(id) {
        const item = state.menuItems.find(item => item.id === id);
        if (!item) return;
        
        state.currentEditId = id;
        
        elements.formTitle.textContent = 'ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…';
        elements.itemName.value = item.name;
        elements.itemCategory.value = item.category;
        elements.itemPrice.value = item.price;
        elements.itemDiscount.value = item.discount || 0;
        elements.itemStatus.value = item.status;
        elements.itemBadge.value = item.badge || '';
        elements.itemDescription.value = item.description;
        elements.itemImage.value = item.image_url || '';
        
        elements.deleteBtn.style.display = 'block';
        
        this.renderItemsList();
      },
      
      // Ø±ÛŒØ³Øª ÙØ±Ù…
      resetForm() {
        state.currentEditId = null;
        
        elements.formTitle.textContent = 'Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯';
        elements.itemName.value = '';
        elements.itemCategory.value = 'Ù‚Ù‡ÙˆÙ‡';
        elements.itemPrice.value = '';
        elements.itemDiscount.value = 0;
        elements.itemStatus.value = 'available';
        elements.itemBadge.value = '';
        elements.itemDescription.value = '';
        elements.itemImage.value = '';
        
        elements.deleteBtn.style.display = 'none';
        
        this.renderItemsList();
      },
      
      // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù…Ù†Ùˆ
      async loadMenu() {
        try {
          elements.menuGrid.innerHTML = `
            <div style="text-align: center; padding: 50px; color: var(--muted); grid-column: 1/-1;">
              Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...
            </div>
          `;
          
          const items = await api.fetchMenuItems();
          state.menuItems = items;
          
          this.renderMenuItems(items);
          this.renderItemsList();
        } catch (error) {
          elements.menuGrid.innerHTML = `
            <div style="text-align: center; padding: 50px; color: var(--danger); grid-column: 1/-1;">
              Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù†Ùˆ
            </div>
          `;
        }
      },
      
      // Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±Ù‡Ø§
      applyFilters() {
        this.renderMenuItems(state.menuItems);
      }
    };

    // ================== Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª ==================
    const auth = {
      // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ù„Ø§Ú¯ÛŒÙ†
      checkAuth() {
        if (state.token) {
          elements.adminBtn.textContent = 'Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª';
        } else {
          elements.adminBtn.textContent = 'ÙˆØ±ÙˆØ¯ Ù…Ø¯ÛŒØ±';
        }
      },
      
      // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ù„Ø§Ú¯ÛŒÙ†
      showLogin() {
        elements.loginModal.classList.add('active');
      },
      
      // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ÙØ±Ù… Ù„Ø§Ú¯ÛŒÙ†
      hideLogin() {
        elements.loginModal.classList.remove('active');
        elements.username.value = '';
        elements.password.value = '';
        elements.loginError.style.display = 'none';
      },
      
      // Ù„Ø§Ú¯ÛŒÙ†
      async login() {
        const username = elements.username.value.trim();
        const password = elements.password.value.trim();
        
        if (!username || !password) {
          elements.loginError.textContent = 'Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯';
          elements.loginError.style.display = 'block';
          return;
        }
        
        try {
          const data = await api.login(username, password);
          
          if (data.token) {
            state.token = data.token;
            localStorage.setItem('token', data.token);
            state.currentUser = data.user;
            
            this.hideLogin();
            this.checkAuth();
            ui.loadMenu();
            
            utils.showToast('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆØ§Ø±Ø¯ Ø´Ø¯ÛŒØ¯', 'success');
          }
        } catch (error) {
          elements.loginError.textContent = 'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª';
          elements.loginError.style.display = 'block';
        }
      },
      
      // Ù„Ø§Ú¯â€ŒØ§ÙˆØª
      logout() {
        state.token = null;
        state.currentUser = null;
        localStorage.removeItem('token');
        
        elements.adminPanel.classList.remove('active');
        this.checkAuth();
        ui.resetForm();
        
        utils.showToast('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯', 'success');
      }
    };

    // ================== Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±Ù… ==================
    const form = {
      // Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…
      async saveItem() {
        const formData = {
          name: elements.itemName.value.trim(),
          category: elements.itemCategory.value,
          price: parseInt(elements.itemPrice.value),
          discount: parseInt(elements.itemDiscount.value) || 0,
          status: elements.itemStatus.value,
          badge: elements.itemBadge.value || '',
          description: elements.itemDescription.value.trim(),
          image_url: elements.itemImage.value.trim() || null
        };
        
        // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
        const error = utils.validateForm(formData);
        if (error) {
          utils.showToast(error, 'error');
          return;
        }
        
        try {
          if (state.currentEditId) {
            // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ… Ù…ÙˆØ¬ÙˆØ¯
            await api.updateMenuItem(state.currentEditId, formData);
            utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆÛŒØ±Ø§ÛŒØ´ Ø´Ø¯', 'success');
          } else {
            // Ø§ÛŒØ¬Ø§Ø¯ Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
            await api.createMenuItem(formData);
            utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯', 'success');
          }
          
          // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ Ù…Ù†Ùˆ
          await ui.loadMenu();
          ui.resetForm();
        } catch (error) {
          utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…', 'error');
        }
      },
      
      // Ø­Ø°Ù Ø¢ÛŒØªÙ…
      async deleteItem() {
        if (!state.currentEditId || !confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')) {
          return;
        }
        
        try {
          await api.deleteMenuItem(state.currentEditId);
          utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯', 'success');
          
          await ui.loadMenu();
          ui.resetForm();
        } catch (error) {
          utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¢ÛŒØªÙ…', 'error');
        }
      }
    };

    // ================== Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ… ==================
    const theme = {
      init() {
        if (state.theme === 'light') {
          document.body.classList.add('light');
          elements.themeBtn.textContent = 'â˜€ï¸';
        } else {
          elements.themeBtn.textContent = 'ğŸŒ™';
        }
      },
      
      toggle() {
        if (state.theme === 'dark') {
          state.theme = 'light';
          document.body.classList.add('light');
          elements.themeBtn.textContent = 'â˜€ï¸';
        } else {
          state.theme = 'dark';
          document.body.classList.remove('light');
          elements.themeBtn.textContent = 'ğŸŒ™';
        }
        
        localStorage.setItem('theme', state.theme);
      }
    };

    // ================== Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ ==================
    const setupEventListeners = () => {
      // ØªÙ…
      elements.themeBtn.addEventListener('click', () => theme.toggle());
      
      // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù…Ù†Ùˆ
      elements.scrollToMenu.addEventListener('click', () => {
        document.getElementById('menuContainer').scrollIntoView({ behavior: 'smooth' });
      });
      
      // Ø¬Ø³ØªØ¬Ùˆ
      elements.searchInput.addEventListener('input', (e) => {
        state.searchQuery = e.target.value.toLowerCase();
        ui.applyFilters();
      });
      
      // ÙÛŒÙ„ØªØ±Ù‡Ø§
      elements.filters.addEventListener('click', (e) => {
        if (e.target.classList.contains('filter-btn')) {
          // Ø­Ø°Ù Ú©Ù„Ø§Ø³ active Ø§Ø² Ù‡Ù…Ù‡
          document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
          });
          
          // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ active Ø¨Ù‡ Ø¯Ú©Ù…Ù‡ Ú©Ù„ÛŒÚ© Ø´Ø¯Ù‡
          e.target.classList.add('active');
          
          // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙØ¹Ø§Ù„
          state.activeCategory = e.target.dataset.category;
          ui.applyFilters();
        }
      });
      
      // Ø¯Ú©Ù…Ù‡ Ø§Ø¯Ù…ÛŒÙ†
      elements.adminBtn.addEventListener('click', () => {
        if (state.token) {
          elements.adminPanel.classList.add('active');
        } else {
          auth.showLogin();
        }
      });
      
      // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„
      elements.modalClose.addEventListener('click', () => {
        elements.detailModal.classList.remove('active');
      });
      
      // Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª
      elements.backBtn.addEventListener('click', () => {
        elements.adminPanel.classList.remove('active');
        ui.resetForm();
      });
      
      // Ù„Ø§Ú¯â€ŒØ§ÙˆØª
      elements.logoutBtn.addEventListener('click', () => auth.logout());
      
      // Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
      elements.addNewBtn.addEventListener('click', () => ui.resetForm());
      
      // Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…
      elements.saveBtn.addEventListener('click', () => form.saveItem());
      
      // Ø§Ù†ØµØ±Ø§Ù
      elements.cancelBtn.addEventListener('click', () => ui.resetForm());
      
      // Ø­Ø°Ù Ø¢ÛŒØªÙ…
      elements.deleteBtn.addEventListener('click', () => form.deleteItem());
      
      // Ù„Ø§Ú¯ÛŒÙ†
      elements.loginBtn.addEventListener('click', () => auth.login());
      elements.password.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') auth.login();
      });
      
      // Ø¨Ø³ØªÙ† Ø¨Ø§ Escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          elements.detailModal.classList.remove('active');
          elements.loginModal.classList.remove('active');
        }
      });
    };

    // ================== Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ ==================
    const init = async () => {
      // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
      theme.init();
      auth.checkAuth();
      setupEventListeners();
      
      // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù†Ùˆ
      await ui.loadMenu();
      
      // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ
      setTimeout(() => {
        utils.showToast('Ø¨Ù‡ Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ± Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!', 'success');
      }, 1000);
    };

    // Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
