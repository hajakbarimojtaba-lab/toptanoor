<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±</title>
  <meta name="description" content="Ù…Ù†ÙˆÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±" />
  <meta name="color-scheme" content="dark light">
  
  <!-- Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙÙˆÙ†Øª Ùˆ Ø¢ÛŒÚ©ÙˆÙ† -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css">
  
  <style>
    /* ================== ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÙ‡ Ùˆ Ù…ØªØºÛŒØ±Ù‡Ø§ ================== */
    :root {
      --bg: #0b0b10;
      --bg-soft: #12121a;
      --card: #171722;
      --glass: rgba(255,255,255,0.04);
      --primary: #ffb703;
      --secondary: #fb8500;
      --accent: #00b4d8;
      --text: #f4f4f6;
      --muted: #9aa0a6;
      --border: rgba(255,255,255,0.06);
      --radius: 16px;
      --shadow: 0 18px 40px rgba(0,0,0,0.5);
      --transition: 250ms cubic-bezier(.2,.9,.2,1);
      --header-height: 72px;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --info: #3b82f6;
    }

    .light {
      --bg: #f6f7fb;
      --bg-soft: #ffffff;
      --card: #ffffff;
      --glass: rgba(0,0,0,0.03);
      --primary: #ff8a00;
      --secondary: #ffb703;
      --accent: #0077b6;
      --text: #0b1220;
      --muted: #6b7280;
      --border: rgba(11,18,32,0.06);
      --shadow: 0 12px 30px rgba(11,18,32,0.06);
      --success: #059669;
      --danger: #dc2626;
      --warning: #d97706;
      --info: #1d4ed8;
    }

    /* Ù¾Ø§ÛŒÙ‡ */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      font-family: 'Vazirmatn', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background:
        radial-gradient(800px 400px at 10% -10%, rgba(255,183,3,0.08), transparent 30%),
        radial-gradient(600px 300px at 90% 10%, rgba(0,180,216,0.06), transparent 35%),
        var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* ================== Ù‡Ø¯Ø± ================== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      height: var(--header-height);
      backdrop-filter: blur(20px);
      background: linear-gradient(180deg, rgba(11,11,16,0.95) 0%, rgba(11,11,16,0.8) 100%);
      border-bottom: 1px solid var(--border);
      transition: all var(--transition);
    }

    .light header {
      background: linear-gradient(180deg, rgba(246,247,251,0.98) 0%, rgba(246,247,251,0.92) 100%);
    }

    .header-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 24px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 16px;
      text-decoration: none;
    }

    .logo {
      width: 56px;
      height: 56px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      color: #000;
      font-size: 24px;
      box-shadow: var(--shadow);
      border: 2px solid rgba(255,255,255,0.1);
      transition: all var(--transition);
    }

    .brand:hover .logo {
      transform: rotate(10deg) scale(1.05);
    }

    .brand-text h1 {
      font-size: 1.4rem;
      margin: 0;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .brand-text p {
      font-size: 0.85rem;
      color: var(--muted);
      margin: 4px 0 0;
    }

    /* Ù†Ø§ÙˆØ¨Ø±ÛŒ */
    .nav-main {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .nav-link {
      padding: 10px 18px;
      text-decoration: none;
      color: var(--text);
      border-radius: 50px;
      font-weight: 500;
      font-size: 0.95rem;
      transition: all var(--transition);
      position: relative;
      overflow: hidden;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      opacity: 0;
      transition: opacity var(--transition);
      z-index: -1;
      border-radius: inherit;
    }

    .nav-link:hover {
      color: #000;
      transform: translateY(-2px);
    }

    .nav-link:hover::before {
      opacity: 1;
    }

    .nav-link.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      font-weight: 700;
      box-shadow: 0 4px 20px rgba(255,183,3,0.3);
    }

    /* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ */
    .header-controls {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .btn {
      padding: 10px 20px;
      border-radius: 50px;
      border: none;
      font-family: inherit;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn:hover {
      transform: translateY(-2px);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn-admin {
      background: linear-gradient(135deg, var(--accent), #0096c7);
      color: white;
      box-shadow: 0 4px 20px rgba(0,180,216,0.3);
    }

    .btn-theme {
      background: var(--glass);
      color: var(--text);
      border: 1px solid var(--border);
      width: 48px;
      height: 48px;
      padding: 0;
      justify-content: center;
    }

    .btn-filter {
      background: var(--glass);
      color: var(--text);
      border: 1px solid var(--border);
    }

    /* Ù‡Ø§Ù…Ø¨ÙˆØ±Ú¯Ø± */
    .hamburger {
      display: none;
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: var(--glass);
      border: 1px solid var(--border);
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all var(--transition);
    }

    .hamburger:hover {
      background: rgba(255,255,255,0.1);
    }

    .hamburger span {
      display: block;
      width: 24px;
      height: 2px;
      background: var(--text);
      position: relative;
      transition: all var(--transition);
    }

    .hamburger span::before,
    .hamburger span::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 2px;
      background: var(--text);
      transition: all var(--transition);
    }

    .hamburger span::before { top: -8px; }
    .hamburger span::after { top: 8px; }

    /* ================== Ù‡ÛŒØ±Ùˆ ================== */
    .hero {
      padding: 160px 24px 80px;
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1.3fr 1fr;
      gap: 60px;
      align-items: center;
    }

    .hero-content h2 {
      font-size: 3.5rem;
      line-height: 1.2;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-content p {
      font-size: 1.2rem;
      color: var(--muted);
      margin-bottom: 32px;
      max-width: 600px;
    }

    .hero-tags {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 32px;
    }

    .tag {
      padding: 8px 16px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 50px;
      color: var(--muted);
      font-size: 0.9rem;
      transition: all var(--transition);
    }

    .tag:hover {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      transform: translateY(-2px);
    }

    .hero-actions {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      padding: 14px 32px;
      font-size: 1.1rem;
      box-shadow: 0 4px 30px rgba(255,183,3,0.3);
    }

    .btn-outline {
      background: transparent;
      color: var(--text);
      border: 2px solid var(--border);
      padding: 14px 32px;
      font-size: 1.1rem;
    }

    .hero-visual {
      position: relative;
      border-radius: 24px;
      overflow: hidden;
      height: 500px;
      background: linear-gradient(135deg, rgba(255,183,3,0.1), rgba(0,180,216,0.1));
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }

    .coffee-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.9;
      transition: transform 0.6s ease;
    }

    .hero-visual:hover .coffee-image {
      transform: scale(1.05);
    }

    /* ================== Ù…Ù†Ùˆ ================== */
    .menu-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px 120px;
    }

    .menu-toolbar {
      background: var(--glass);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 48px;
      border: 1px solid var(--border);
      z-index: 1;
    }

    .filters {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }

    .filter-btn {
      padding: 12px 24px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 50px;
      color: var(--muted);
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition);
    }

    .filter-btn:hover {
      transform: translateY(-2px);
      background: rgba(255,255,255,0.05);
    }

    .filter-btn.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      font-weight: 700;
      box-shadow: 0 4px 20px rgba(255,183,3,0.3);
    }

    .search-box {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 50px;
      padding: 12px 24px;
      max-width: 400px;
      margin-right: auto;
    }

    .search-box input {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 1rem;
      outline: none;
    }

    .search-box input::placeholder {
      color: var(--muted);
    }

    .result-count {
      color: var(--muted);
      font-size: 0.9rem;
      white-space: nowrap;
    }

    /* Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ */
    .menu-section {
      margin-bottom: 80px;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .menu-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .section-header {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 2px solid var(--border);
    }

    .section-title {
      font-size: 2.2rem;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin: 0;
    }

    .section-subtitle {
      color: var(--muted);
      font-size: 1.1rem;
      margin-top: 8px;
    }

    /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
    }

    .menu-card {
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      transition: all var(--transition);
      position: relative;
    }

    .menu-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 30px 60px rgba(0,0,0,0.6);
      border-color: rgba(255,183,3,0.4);
    }

    .menu-card.unavailable {
      opacity: 0.6;
      filter: grayscale(0.8);
    }

    .menu-card.unavailable .menu-title {
      text-decoration: line-through;
    }

    .menu-card.discounted .original-price {
      text-decoration: line-through;
      color: var(--muted);
      font-size: 0.9rem;
      margin-left: 8px;
    }

    .menu-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-bottom: 1px solid var(--border);
      transition: transform 0.6s ease;
    }

    .menu-card:hover .menu-image {
      transform: scale(1.05);
    }

    .card-content {
      padding: 24px;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .menu-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--text);
      margin: 0;
      flex: 1;
    }

    .menu-price {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--primary);
      margin-right: 12px;
      white-space: nowrap;
    }

    .menu-description {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 20px;
      min-height: 60px;
    }

    .card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .badge {
      padding: 6px 14px;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .badge-new {
      background: linear-gradient(135deg, var(--accent), #0096c7);
      color: white;
    }

    .badge-popular {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
    }

    .badge-special {
      background: linear-gradient(135deg, var(--success), #10b981);
      color: white;
    }

    .badge-discount {
      background: linear-gradient(135deg, var(--warning), #f59e0b);
      color: white;
    }

    .badge-unavailable {
      background: linear-gradient(135deg, var(--muted), #6b7280);
      color: white;
    }

    .card-actions {
      display: flex;
      gap: 12px;
    }

    .btn-details {
      padding: 10px 20px;
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 50px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition);
    }

    .btn-details:hover {
      background: var(--glass);
      transform: translateY(-2px);
    }

    /* ================== Ù…ÙˆØ¯Ø§Ù„ Ø¬Ø²Ø¦ÛŒØ§Øª ================== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(2,2,6,0.85);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.active {
      display: flex;
      opacity: 1;
    }

    .modal {
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-radius: 24px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      transform: translateY(30px);
      transition: transform 0.3s ease;
    }

    .modal-overlay.active .modal {
      transform: translateY(0);
    }

    .modal-header {
      position: relative;
      height: 300px;
      overflow: hidden;
    }

    .modal-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border);
      color: white;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition);
    }

    .modal-close:hover {
      background: rgba(255,255,255,0.1);
      transform: rotate(90deg);
    }

    .modal-content {
      padding: 40px;
    }

    .modal-title {
      font-size: 2.2rem;
      color: var(--text);
      margin-bottom: 16px;
    }

    .modal-price {
      font-size: 1.8rem;
      color: var(--primary);
      font-weight: 800;
      margin-bottom: 24px;
    }

    .modal-description {
      color: var(--muted);
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 32px;
    }

    .modal-meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
      padding: 24px;
      background: var(--glass);
      border-radius: 16px;
      border: 1px solid var(--border);
    }

    .meta-item {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .meta-label {
      color: var(--muted);
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .meta-value {
      color: var(--text);
      font-size: 1.1rem;
      font-weight: 600;
    }

    /* ================== Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ================== */
    .admin-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg);
      z-index: 3000;
      display: none;
      overflow-y: auto;
    }

    .admin-overlay.active {
      display: block;
    }

    .admin-container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 40px 24px;
      min-height: 100vh;
    }

    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--border);
    }

    .admin-title {
      font-size: 2.5rem;
      background: linear-gradient(135deg, var(--accent), #0096c7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin: 0;
    }

    .admin-grid {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 40px;
      height: calc(100vh - 200px);
    }

    .admin-sidebar {
      background: var(--card);
      border-radius: 24px;
      padding: 30px;
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
    }

    .items-list {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 24px;
    }

    .item-card {
      background: var(--glass);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
      border: 1px solid var(--border);
      cursor: pointer;
      transition: all var(--transition);
      position: relative;
    }

    .item-card:hover {
      background: rgba(255,183,3,0.1);
      border-color: var(--primary);
      transform: translateX(-5px);
    }

    .item-card.active {
      background: rgba(255,183,3,0.15);
      border-color: var(--primary);
      box-shadow: 0 4px 20px rgba(255,183,3,0.2);
    }

    .item-card-image {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      object-fit: cover;
      position: absolute;
      left: 20px;
      top: 20px;
      border: 1px solid var(--border);
    }

    .item-card-content {
      margin-right: 80px;
    }

    .item-card-title {
      font-weight: 700;
      color: var(--text);
      margin-bottom: 8px;
      font-size: 1.1rem;
    }

    .item-card-meta {
      display: flex;
      justify-content: space-between;
      color: var(--muted);
      font-size: 0.9rem;
    }

    .item-card-price {
      color: var(--primary);
      font-weight: 600;
    }

    .admin-form {
      background: var(--card);
      border-radius: 24px;
      padding: 40px;
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
    }

    .form-title {
      font-size: 1.8rem;
      color: var(--text);
      margin-bottom: 32px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 32px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-label {
      color: var(--text);
      font-weight: 600;
      font-size: 1rem;
    }

    .form-input,
    .form-select,
    .form-textarea {
      padding: 16px 20px;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: 12px;
      color: var(--text);
      font-size: 1rem;
      font-family: inherit;
      transition: all var(--transition);
      width: 100%;
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(255,183,3,0.1);
      background: rgba(255,255,255,0.02);
    }

    .form-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .image-upload {
      position: relative;
      border: 2px dashed var(--border);
      border-radius: 16px;
      padding: 60px 40px;
      text-align: center;
      cursor: pointer;
      transition: all var(--transition);
      overflow: hidden;
    }

    .image-upload:hover {
      border-color: var(--primary);
      background: rgba(255,183,3,0.05);
    }

    .image-upload input {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0;
      cursor: pointer;
    }

    .upload-icon {
      font-size: 48px;
      color: var(--muted);
      margin-bottom: 20px;
    }

    .upload-text {
      color: var(--muted);
      font-size: 1.1rem;
      margin-bottom: 12px;
    }

    .upload-hint {
      color: var(--muted);
      font-size: 0.9rem;
      opacity: 0.7;
    }

    .image-preview {
      position: relative;
      border-radius: 16px;
      overflow: hidden;
      margin-top: 20px;
      display: none;
    }

    .image-preview img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .remove-image {
      position: absolute;
      top: 12px;
      left: 12px;
      background: rgba(239,68,68,0.9);
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all var(--transition);
    }

    .remove-image:hover {
      background: var(--danger);
      transform: scale(1.1);
    }

    .form-actions {
      display: flex;
      gap: 16px;
      margin-top: auto;
      padding-top: 32px;
      border-top: 1px solid var(--border);
    }

    .btn-save {
      background: linear-gradient(135deg, var(--success), #10b981);
      color: white;
      padding: 16px 32px;
      font-size: 1.1rem;
      flex: 1;
    }

    .btn-cancel {
      background: var(--glass);
      color: var(--text);
      border: 1px solid var(--border);
      padding: 16px 32px;
      font-size: 1.1rem;
    }

    .btn-delete {
      background: linear-gradient(135deg, var(--danger), #ef4444);
      color: white;
      padding: 16px 32px;
      font-size: 1.1rem;
    }

    .btn-logout {
      background: linear-gradient(135deg, var(--danger), #ef4444);
      color: white;
      padding: 12px 24px;
    }

    .btn-back {
      background: var(--glass);
      color: var(--text);
      border: 1px solid var(--border);
      padding: 12px 24px;
    }

    /* ================== ÙØ±Ù… ÙˆØ±ÙˆØ¯ ================== */
    .login-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(2,2,6,0.9);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 4000;
    }

    .login-overlay.active {
      display: flex;
    }

    .login-box {
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-radius: 24px;
      padding: 60px;
      width: 100%;
      max-width: 480px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      transform: translateY(30px);
      opacity: 0;
      transition: all 0.4s ease;
    }

    .login-overlay.active .login-box {
      transform: translateY(0);
      opacity: 1;
    }

    .login-title {
      font-size: 2.2rem;
      text-align: center;
      background: linear-gradient(135deg, var(--accent), #0096c7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 40px;
    }

    .login-form {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .login-error {
      color: var(--danger);
      text-align: center;
      padding: 16px;
      background: rgba(239,68,68,0.1);
      border-radius: 12px;
      border: 1px solid var(--danger);
      display: none;
    }

    .login-error.show {
      display: block;
    }

    /* ================== ÙÙˆØªØ± ================== */
    footer {
      background: linear-gradient(180deg, transparent, rgba(0,0,0,0.1));
      border-top: 1px solid var(--border);
      padding: 80px 24px;
      margin-top: 80px;
    }

    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 40px;
      margin-bottom: 60px;
    }

    .footer-column h3 {
      color: var(--primary);
      font-size: 1.3rem;
      margin-bottom: 24px;
    }

    .footer-column p {
      color: var(--muted);
      line-height: 1.8;
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--muted);
    }

    .copyright {
      text-align: center;
      color: var(--muted);
      padding-top: 40px;
      border-top: 1px solid var(--border);
      font-size: 0.95rem;
    }

    /* ================== Back to Top ================== */
    .back-to-top {
      position: fixed;
      bottom: 40px;
      left: 40px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      font-size: 24px;
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 30px rgba(255,183,3,0.3);
      z-index: 100;
      transition: all var(--transition);
    }

    .back-to-top:hover {
      transform: translateY(-5px) scale(1.1);
    }

    .back-to-top.show {
      display: flex;
    }

    /* ================== Drawer Ù…ÙˆØ¨Ø§ÛŒÙ„ ================== */
    .drawer-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(2,2,6,0.8);
      backdrop-filter: blur(10px);
      display: none;
      z-index: 1500;
    }

    .drawer-overlay.active {
      display: block;
    }

    .drawer {
      position: fixed;
      top: 0;
      right: 0;
      width: 320px;
      max-width: 90vw;
      height: 100vh;
      background: linear-gradient(145deg, var(--card), var(--bg-soft));
      border-left: 1px solid var(--border);
      box-shadow: var(--shadow);
      padding: 40px 24px;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1501;
    }

    .drawer-overlay.active .drawer {
      transform: translateX(0);
    }

    .drawer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
    }

    .drawer-title {
      font-size: 1.5rem;
      color: var(--text);
      margin: 0;
    }

    .drawer-close {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--glass);
      border: 1px solid var(--border);
      color: var(--text);
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .drawer-nav {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .drawer-link {
      padding: 16px 24px;
      background: var(--glass);
      border-radius: 12px;
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      transition: all var(--transition);
    }

    .drawer-link:hover {
      background: rgba(255,183,3,0.1);
      transform: translateX(-5px);
    }

    .drawer-link.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #000;
      font-weight: 700;
    }

    /* ================== Responsive ================== */
    @media (max-width: 1200px) {
      .hero {
        grid-template-columns: 1fr;
        text-align: center;
      }
      
      .hero-content h2 {
        font-size: 2.8rem;
      }
      
      .hero-visual {
        height: 400px;
      }
      
      .admin-grid {
        grid-template-columns: 1fr;
        height: auto;
      }
    }

    @media (max-width: 768px) {
      .header-container {
        padding: 0 16px;
      }
      
      .nav-main {
        display: none;
      }
      
      .hamburger {
        display: flex;
      }
      
      .hero-content h2 {
        font-size: 2.2rem;
      }
      
      .hero-actions {
        justify-content: center;
      }
      
      .menu-grid {
        grid-template-columns: 1fr;
      }
      
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
      
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .form-actions {
        flex-direction: column;
      }
      
      .btn-save,
      .btn-cancel,
      .btn-delete {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .hero {
        padding: 120px 16px 60px;
      }
      
      .hero-content h2 {
        font-size: 1.8rem;
      }
      
      .menu-toolbar {
        padding: 20px;
      }
      
      .modal-content {
        padding: 24px;
      }
      
      .modal-title {
        font-size: 1.8rem;
      }
      
      .admin-header {
        flex-direction: column;
        gap: 20px;
        align-items: flex-start;
      }
      
      .admin-title {
        font-size: 2rem;
      }
    }

    /* ================== Animation Classes ================== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in-up {
      animation: fadeInUp 0.6s ease forwards;
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .animate-slide-in-right {
      animation: slideInRight 0.6s ease forwards;
    }

    /* ================== Utilities ================== */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border: 0;
    }

    .loading {
      position: relative;
      overflow: hidden;
    }

    .loading::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      animation: loading 1.5s infinite;
    }

    @keyframes loading {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .toast {
      position: fixed;
      bottom: 40px;
      right: 40px;
      padding: 16px 24px;
      background: var(--card);
      border-radius: 12px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      color: var(--text);
      font-weight: 500;
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 5000;
    }

    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }

    .toast.success {
      background: linear-gradient(135deg, var(--success), #10b981);
      color: white;
    }

    .toast.error {
      background: linear-gradient(135deg, var(--danger), #ef4444);
      color: white;
    }

    .toast.info {
      background: linear-gradient(135deg, var(--accent), #0096c7);
      color: white;
    }
    
    /* ================== ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ ================== */
    .connection-status {
      position: fixed;
      top: 90px;
      right: 20px;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--glass);
      border-radius: 50px;
      border: 1px solid var(--border);
      backdrop-filter: blur(10px);
      font-size: 0.9rem;
      transition: all var(--transition);
    }
    
    .connection-status.online {
      background: rgba(16, 185, 129, 0.1);
      border-color: var(--success);
      color: var(--success);
    }
    
    .connection-status.offline {
      background: rgba(239, 68, 68, 0.1);
      border-color: var(--danger);
      color: var(--danger);
    }
    
    .connection-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    .connection-dot.online {
      background: var(--success);
      box-shadow: 0 0 10px var(--success);
    }
    
    .connection-dot.offline {
      background: var(--danger);
    }
    
    /* ================== Ø¨Ù‡Ø¨ÙˆØ¯Ù‡Ø§ÛŒ Ø¸Ø§Ù‡Ø±ÛŒ ================== */
    .no-image-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      font-size: 3rem;
    }
    
    .menu-card .no-image-placeholder {
      height: 200px;
      font-size: 2.5rem;
    }
    
    .item-card .no-image-placeholder {
      width: 60px;
      height: 60px;
      font-size: 1.5rem;
    }
  </style>
</head>
<body>
  <!-- Ù‡Ø¯Ø± -->
  <header id="header">
    <div class="header-container">
      <a href="#" class="brand">
        <div class="logo">â˜•</div>
        <div class="brand-text">
          <h1>Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±</h1>
          <p>Ø·Ø¹Ù…ØŒ ÙØ¶Ø§ØŒ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯</p>
        </div>
      </a>

      <nav class="nav-main" id="navMain">
        <a href="#appetizer" class="nav-link" data-section="appetizer">Ù¾ÛŒØ´ ØºØ°Ø§</a>
        <a href="#fastfood" class="nav-link" data-section="fastfood">ÙØ³Øªâ€ŒÙÙˆØ¯</a>
        <a href="#dessert" class="nav-link" data-section="dessert">Ø¯Ø³Ø±</a>
        <a href="#hot" class="nav-link" data-section="hot">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…</a>
        <a href="#cold" class="nav-link" data-section="cold">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯</a>
        <a href="#info" class="nav-link" data-section="info">Ø§Ø·Ù„Ø§Ø¹Ø§Øª</a>
      </nav>

      <div class="header-controls">
        <button class="btn btn-admin" id="adminBtn">
          <span>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</span>
        </button>
        <button class="btn btn-theme" id="themeBtn" aria-label="ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø±Ù†Ú¯">
          ğŸŒ™
        </button>
        <button class="hamburger" id="hamburgerBtn" aria-label="Ù…Ù†Ùˆ">
          <span></span>
        </button>
      </div>
    </div>
  </header>

  <!-- ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ -->
  <div class="connection-status" id="connectionStatus">
    <div class="connection-dot"></div>
    <span id="connectionText">Ø¯Ø± Ø­Ø§Ù„ Ø§ØªØµØ§Ù„...</span>
  </div>

  <!-- Ù‡ÛŒØ±Ùˆ -->
  <section class="hero" id="hero">
    <div class="hero-content">
      <h2 class="animate-fade-in-up">ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ù…ØªÙØ§ÙˆØª Ø§Ø² Ø·Ø¹Ù… Ùˆ ÙØ¶Ø§</h2>
      <p class="animate-slide-in-right" style="animation-delay: 0.2s">
        Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ±Ø› Ù‚Ù‡ÙˆÙ‡ ØªØ®ØµØµÛŒØŒ Ø¯Ø³Ø±Ù‡Ø§ÛŒ Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ ÙØ³Øªâ€ŒÙÙˆØ¯ Ø¨Ø§Ú©ÛŒÙÛŒØª Ø¯Ø± ÙØ¶Ø§ÛŒÛŒ ØµÙ…ÛŒÙ…ÛŒ Ùˆ Ù…Ø¯Ø±Ù†.
      </p>
      
      <div class="hero-tags animate-slide-in-right" style="animation-delay: 0.4s">
        <span class="tag">Ù‚Ù‡ÙˆÙ‡ ØªØ®ØµØµÛŒ</span>
        <span class="tag">Ù…Ø­ÛŒØ· Ù…Ù†Ø§Ø³Ø¨ Ú©Ø§Ø±</span>
        <span class="tag">Ø§ÛŒÙ†ØªØ±Ù†Øª Ù¾Ø±Ø³Ø±Ø¹Øª</span>
        <span class="tag">Ø¯Ø³Ø±Ù‡Ø§ÛŒ Ø®Ø§Ù†Ú¯ÛŒ</span>
        <span class="tag">Ù¾ÛŒØ´ ØºØ°Ø§Ù‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</span>
      </div>
      
      <div class="hero-actions animate-slide-in-right" style="animation-delay: 0.6s">
        <button class="btn btn-primary" id="scrollToMenu">
          Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ù†Ùˆ
        </button>
        <a href="#info" class="btn btn-outline">
          Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³
        </a>
      </div>
    </div>
    
    <div class="hero-visual animate-fade-in-up" style="animation-delay: 0.3s">
      <div class="no-image-placeholder">
        â˜•
      </div>
    </div>
  </section>

  <!-- Ø¨Ø®Ø´ Ù…Ù†Ùˆ -->
  <main class="menu-container" id="menuContainer">
    <div class="menu-toolbar">
      <div class="filters" id="filters">
        <button class="filter-btn active" data-filter="all">Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯</button>
        <button class="filter-btn" data-filter="appetizer">Ù¾ÛŒØ´ ØºØ°Ø§</button>
        <button class="filter-btn" data-filter="fastfood">ÙØ³Øªâ€ŒÙÙˆØ¯</button>
        <button class="filter-btn" data-filter="dessert">Ø¯Ø³Ø±</button>
        <button class="filter-btn" data-filter="hot">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…</button>
        <button class="filter-btn" data-filter="cold">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯</button>
      </div>
      
      <div class="search-box">
        <input type="text" 
               id="searchInput" 
               placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù…Ù†Ùˆ..." 
               aria-label="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù…Ù†Ùˆ">
        <span class="result-count" id="resultCount">0 Ù…ÙˆØ±Ø¯</span>
      </div>
    </div>

    <!-- Ø¨Ø®Ø´ Ù¾ÛŒØ´ ØºØ°Ø§ -->
    <section class="menu-section" id="appetizer">
      <div class="section-header">
        <div>
          <h2 class="section-title">Ù¾ÛŒØ´ ØºØ°Ø§</h2>
          <p class="section-subtitle">Ø¢ØºØ§Ø²Ú¯Ø±Ù‡Ø§ÛŒ Ø§Ø´ØªÙ‡Ø§Ø¨Ø±Ø§Ù†Ú¯ÛŒØ²</p>
        </div>
      </div>
      <div class="menu-grid" id="appetizerGrid"></div>
    </section>

    <!-- Ø¨Ø®Ø´ ÙØ³Øª ÙÙˆØ¯ -->
    <section class="menu-section" id="fastfood">
      <div class="section-header">
        <div>
          <h2 class="section-title">ÙØ³Øªâ€ŒÙÙˆØ¯</h2>
          <p class="section-subtitle">Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ±Ú©Ù†Ù†Ø¯Ù‡ Ùˆ Ø®ÙˆØ´â€ŒØ·Ø¹Ù…</p>
        </div>
      </div>
      <div class="menu-grid" id="fastfoodGrid"></div>
    </section>

    <!-- Ø¨Ø®Ø´ Ø¯Ø³Ø±Ù‡Ø§ -->
    <section class="menu-section" id="dessert">
      <div class="section-header">
        <div>
          <h2 class="section-title">Ø¯Ø³Ø±</h2>
          <p class="section-subtitle">Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ Ùˆ Ø¯Ø³Ø±Ù‡Ø§ÛŒ Ù…Ø®ØµÙˆØµ</p>
        </div>
      </div>
      <div class="menu-grid" id="dessertGrid"></div>
    </section>

    <!-- Ø¨Ø®Ø´ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù… -->
    <section class="menu-section" id="hot">
      <div class="section-header">
        <div>
          <h2 class="section-title">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…</h2>
          <p class="section-subtitle">Ù‚Ù‡ÙˆÙ‡ Ùˆ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ù…</p>
        </div>
      </div>
      <div class="menu-grid" id="hotGrid"></div>
    </section>

    <!-- Ø¨Ø®Ø´ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯ -->
    <section class="menu-section" id="cold">
      <div class="section-header">
        <div>
          <h2 class="section-title">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯</h2>
          <p class="section-subtitle">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ù†Ú© Ùˆ Ø§Ø³Ù…ÙˆØªÛŒâ€ŒÙ‡Ø§</p>
        </div>
      </div>
      <div class="menu-grid" id="coldGrid"></div>
    </section>
  </main>

  <!-- Ø¨Ø®Ø´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª -->
  <section class="menu-section" id="info" style="background: var(--glass); border-radius: 24px; padding: 60px;">
    <div class="section-header">
      <h2 class="section-title">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</h2>
    </div>
    
    <div class="footer-grid">
      <div class="footer-column">
        <h3>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h3>
        <p>
          Ú©Ø§ÙÙ‡ ÙØ³Øªâ€ŒÙÙˆØ¯ ØªÙ†ÙˆØ± Ø¨Ø§ Ù‡Ø¯Ù Ø§Ø±Ø§Ø¦Ù‡ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ù…ØªÙØ§ÙˆØª Ø§Ø² Ø·Ø¹Ù… Ùˆ ÙØ¶Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø§Ø³Øª. 
          Ù…Ø§ Ø¨Ø§ Ø¨Ù‡Ø±Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¨Ù‡ØªØ±ÛŒÙ† Ù…ÙˆØ§Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ùˆ Ù…ØªØ®ØµØµØ§Ù† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒØŒ Ù„Ø­Ø¸Ø§Øª Ø¯Ù„Ù¾Ø°ÛŒØ±ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø®Ù„Ù‚ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
        </p>
      </div>
      
      <div class="footer-column">
        <h3>Ø³Ø§Ø¹Ø§Øª Ú©Ø§Ø±ÛŒ</h3>
        <div class="contact-info">
          <div class="contact-item">
            <span>Ø´Ù†Ø¨Ù‡ ØªØ§ Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡: Û±Û°:Û°Û° - Û²Û´:Û°Û°</span>
          </div>
          <div class="contact-item">
            <span>Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡ Ùˆ Ø¬Ù…Ø¹Ù‡: Û±Û°:Û°Û° - Û°Û±:Û°Û°</span>
          </div>
        </div>
      </div>
      
      <div class="footer-column">
        <h3>ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h3>
        <div class="contact-info">
          <div class="contact-item">
            <span>Ø¢Ø¯Ø±Ø³: Ø®ÛŒØ§Ø¨Ø§Ù† Ø§Ø¨ÙˆØ°Ø±ØŒ Ù¾Ù„Ø§Ú© Û±Û²Û³</span>
          </div>
          <div class="contact-item">
            <span>ØªÙ„ÙÙ†: Û°Û²Û±-Û±Û²Û³Û´ÛµÛ¶Û·Û¸</span>
          </div>
          <div class="contact-item">
            <span>Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…: @toptenor.cafe</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ÙÙˆØªØ± -->
  <footer>
    <div class="footer-container">
      <div class="copyright">
        Â© Û²Û°Û²Û¶ Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ± â€” ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª
      </div>
    </div>
  </footer>

  <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¬Ø²Ø¦ÛŒØ§Øª -->
  <div class="modal-overlay" id="detailModal">
    <div class="modal">
      <div class="modal-header">
        <div id="modalImage" class="no-image-placeholder">ğŸ“·</div>
        <button class="modal-close" id="modalClose">&times;</button>
      </div>
      <div class="modal-content">
        <h2 class="modal-title" id="modalTitle"></h2>
        <div class="modal-price" id="modalPrice"></div>
        <p class="modal-description" id="modalDescription"></p>
        
        <div class="modal-meta">
          <div class="meta-item">
            <span class="meta-label">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</span>
            <span class="meta-value" id="modalCategory"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">ÙˆØ¶Ø¹ÛŒØª</span>
            <span class="meta-value" id="modalStatus"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">ØªØ®ÙÛŒÙ</span>
            <span class="meta-value" id="modalDiscount"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Ø¨Ø±Ú†Ø³Ø¨</span>
            <span class="meta-value" id="modalBadge"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª -->
  <div class="admin-overlay" id="adminPanel">
    <div class="admin-container">
      <div class="admin-header">
        <h1 class="admin-title">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù†Ùˆ</h1>
        <div class="header-controls">
          <button class="btn btn-logout" id="logoutBtn">Ø®Ø±ÙˆØ¬</button>
          <button class="btn btn-back" id="backBtn">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ</button>
        </div>
      </div>
      
      <div class="admin-grid">
        <div class="admin-sidebar">
          <h3 style="color: var(--text); margin-bottom: 24px;">Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ</h3>
          <div class="items-list" id="itemsList"></div>
          <button class="btn btn-primary" id="addNewBtn" style="width: 100%;">
            + Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
          </button>
        </div>
        
        <div class="admin-form">
          <h2 class="form-title" id="formTitle">Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯</h2>
          
          <div class="form-grid">
            <div class="form-group">
              <label for="itemName" class="form-label">Ù†Ø§Ù… Ø¢ÛŒØªÙ… *</label>
              <input type="text" id="itemName" class="form-input" placeholder="Ù…Ø«Ø§Ù„: Ú†ÛŒØ²Ú©ÛŒÚ© Ø´Ú©Ù„Ø§ØªÛŒ">
            </div>
            
            <div class="form-group">
              <label for="itemCategory" class="form-label">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ *</label>
              <select id="itemCategory" class="form-select">
                <option value="appetizer">Ù¾ÛŒØ´ ØºØ°Ø§</option>
                <option value="fastfood">ÙØ³Øªâ€ŒÙÙˆØ¯</option>
                <option value="dessert">Ø¯Ø³Ø±</option>
                <option value="hot">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…</option>
                <option value="cold">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="itemPrice" class="form-label">Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†) *</label>
              <input type="number" id="itemPrice" class="form-input" placeholder="120000" min="0">
            </div>
            
            <div class="form-group">
              <label for="itemDiscount" class="form-label">ØªØ®ÙÛŒÙ (%)</label>
              <input type="number" id="itemDiscount" class="form-input" placeholder="0" min="0" max="100">
            </div>
            
            <div class="form-group">
              <label for="itemStatus" class="form-label">ÙˆØ¶Ø¹ÛŒØª</label>
              <select id="itemStatus" class="form-select">
                <option value="available">Ù…ÙˆØ¬ÙˆØ¯</option>
                <option value="unavailable">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="itemBadge" class="form-label">Ø¨Ø±Ú†Ø³Ø¨</label>
              <select id="itemBadge" class="form-select">
                <option value="">Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ú†Ø³Ø¨</option>
                <option value="new">Ø¬Ø¯ÛŒØ¯</option>
                <option value="popular">Ù…Ø­Ø¨ÙˆØ¨</option>
                <option value="special">ÙˆÛŒÚ˜Ù‡</option>
                <option value="discount">ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡</option>
              </select>
            </div>
            
            <div class="form-group full-width">
              <label for="itemDescription" class="form-label">ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
              <textarea id="itemDescription" class="form-textarea" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„ Ø¢ÛŒØªÙ…..." rows="4"></textarea>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label">Ø¹Ú©Ø³ Ø¢ÛŒØªÙ…</label>
              <div class="image-upload" id="imageUpload">
                <div class="upload-icon">ğŸ“·</div>
                <div class="upload-text">Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³</div>
                <div class="upload-hint">Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø¬Ù…: 2MB (JPG, PNG, WebP)</div>
                <input type="file" id="itemImage" accept="image/*">
              </div>
              <div class="image-preview" id="imagePreview">
                <img id="previewImage" src="" alt="Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø¹Ú©Ø³">
                <button type="button" class="remove-image" id="removeImage">&times;</button>
              </div>
            </div>
          </div>
          
          <div class="form-actions">
            <button class="btn btn-save" id="saveBtn">Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…</button>
            <button class="btn btn-cancel" id="cancelBtn">Ø§Ù†ØµØ±Ø§Ù</button>
            <button class="btn btn-delete" id="deleteBtn" style="display: none;">Ø­Ø°Ù Ø¢ÛŒØªÙ…</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ÙØ±Ù… ÙˆØ±ÙˆØ¯ -->
  <div class="login-overlay" id="loginModal">
    <div class="login-box">
      <h2 class="login-title">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
      <div class="login-form">
        <div class="form-group">
          <label for="username" class="form-label">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</label>
          <input type="text" id="username" class="form-input" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
        </div>
        <div class="form-group">
          <label for="password" class="form-label">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
          <input type="password" id="password" class="form-input" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
        </div>
        <button class="btn btn-primary" id="loginBtn" style="width: 100%;">ÙˆØ±ÙˆØ¯</button>
        <div class="login-error" id="loginError">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª</div>
      </div>
    </div>
  </div>

  <!-- Drawer Ù…ÙˆØ¨Ø§ÛŒÙ„ -->
  <div class="drawer-overlay" id="drawerOverlay">
    <div class="drawer">
      <div class="drawer-header">
        <h3 class="drawer-title">Ù…Ù†Ùˆ</h3>
        <button class="drawer-close" id="drawerClose">&times;</button>
      </div>
      <nav class="drawer-nav">
        <a href="#appetizer" class="drawer-link" data-section="appetizer">Ù¾ÛŒØ´ ØºØ°Ø§</a>
        <a href="#fastfood" class="drawer-link" data-section="fastfood">ÙØ³Øªâ€ŒÙÙˆØ¯</a>
        <a href="#dessert" class="drawer-link" data-section="dessert">Ø¯Ø³Ø±</a>
        <a href="#hot" class="drawer-link" data-section="hot">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…</a>
        <a href="#cold" class="drawer-link" data-section="cold">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯</a>
        <a href="#info" class="drawer-link" data-section="info">Ø§Ø·Ù„Ø§Ø¹Ø§Øª</a>
        <button class="drawer-link" id="drawerAdminBtn" style="text-align: right; background: var(--accent); color: white;">
          Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
        </button>
      </nav>
    </div>
  </div>

  <!-- Back to Top -->
  <button class="back-to-top" id="backToTop" aria-label="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§">
    â†‘
  </button>

  <!-- Toast Messages -->
  <div class="toast" id="toast"></div>

  <script>
    // ================== Configuration ==================
    const CONFIG = {
      // Ø¢Ø¯Ø±Ø³ API Ø¨Ú©â€ŒØ§Ù†Ø¯
      API_BASE_URL: 'https://toptanoor.pythonanywhere.com',
      API_ENDPOINTS: {
        MENU_ITEMS: '/api/menu-items',
        LOGIN: '/api/login',
        UPLOAD_IMAGE: '/api/upload'
      },
      
      // ØªÙˆÚ©Ù† Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
      AUTH_TOKEN_KEY: 'tt_auth_token',
      
      // Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ localStorage
      STORAGE_KEYS: {
        MENU_ITEMS: 'tt_menu_items',
        THEME: 'tt_theme',
        LAST_SYNC: 'tt_last_sync',
        USER_INFO: 'tt_user_info'
      },
      
      // Ø¢ÛŒÚ©ÙˆÙ† Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
      DEFAULT_ICONS: {
        appetizer: 'ğŸ¥—',
        fastfood: 'ğŸ”',
        dessert: 'ğŸ°',
        hot: 'â˜•',
        cold: 'ğŸ¥¤'
      },
      
      // Ù†Ú¯Ø§Ø´Øª Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ
      CATEGORY_NAMES: {
        appetizer: 'Ù¾ÛŒØ´ ØºØ°Ø§',
        fastfood: 'ÙØ³Øªâ€ŒÙÙˆØ¯',
        dessert: 'Ø¯Ø³Ø±',
        hot: 'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…',
        cold: 'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯'
      }
    };

    // ================== State Management ==================
    let state = {
      menuItems: [],
      currentEditId: null,
      currentImage: null,
      currentImageFile: null,
      activeFilter: 'all',
      searchTerm: '',
      isAdmin: false,
      theme: 'dark',
      isOnline: navigator.onLine,
      authToken: localStorage.getItem(CONFIG.AUTH_TOKEN_KEY),
      userInfo: JSON.parse(localStorage.getItem(CONFIG.STORAGE_KEYS.USER_INFO) || 'null')
    };

    // ================== DOM Elements ==================
    const elements = {
      // Header
      header: document.getElementById('header'),
      themeBtn: document.getElementById('themeBtn'),
      adminBtn: document.getElementById('adminBtn'),
      hamburgerBtn: document.getElementById('hamburgerBtn'),
      scrollToMenu: document.getElementById('scrollToMenu'),
      
      // Menu
      menuContainer: document.getElementById('menuContainer'),
      searchInput: document.getElementById('searchInput'),
      resultCount: document.getElementById('resultCount'),
      filters: document.getElementById('filters'),
      
      // Grids
      appetizerGrid: document.getElementById('appetizerGrid'),
      fastfoodGrid: document.getElementById('fastfoodGrid'),
      dessertGrid: document.getElementById('dessertGrid'),
      hotGrid: document.getElementById('hotGrid'),
      coldGrid: document.getElementById('coldGrid'),
      
      // Modal
      detailModal: document.getElementById('detailModal'),
      modalClose: document.getElementById('modalClose'),
      modalTitle: document.getElementById('modalTitle'),
      modalPrice: document.getElementById('modalPrice'),
      modalDescription: document.getElementById('modalDescription'),
      modalImage: document.getElementById('modalImage'),
      modalCategory: document.getElementById('modalCategory'),
      modalStatus: document.getElementById('modalStatus'),
      modalDiscount: document.getElementById('modalDiscount'),
      modalBadge: document.getElementById('modalBadge'),
      
      // Admin Panel
      adminPanel: document.getElementById('adminPanel'),
      backBtn: document.getElementById('backBtn'),
      logoutBtn: document.getElementById('logoutBtn'),
      itemsList: document.getElementById('itemsList'),
      addNewBtn: document.getElementById('addNewBtn'),
      
      // Admin Form
      formTitle: document.getElementById('formTitle'),
      itemName: document.getElementById('itemName'),
      itemCategory: document.getElementById('itemCategory'),
      itemPrice: document.getElementById('itemPrice'),
      itemDiscount: document.getElementById('itemDiscount'),
      itemStatus: document.getElementById('itemStatus'),
      itemBadge: document.getElementById('itemBadge'),
      itemDescription: document.getElementById('itemDescription'),
      itemImage: document.getElementById('itemImage'),
      imageUpload: document.getElementById('imageUpload'),
      imagePreview: document.getElementById('imagePreview'),
      previewImage: document.getElementById('previewImage'),
      removeImage: document.getElementById('removeImage'),
      saveBtn: document.getElementById('saveBtn'),
      cancelBtn: document.getElementById('cancelBtn'),
      deleteBtn: document.getElementById('deleteBtn'),
      
      // Login
      loginModal: document.getElementById('loginModal'),
      username: document.getElementById('username'),
      password: document.getElementById('password'),
      loginBtn: document.getElementById('loginBtn'),
      loginError: document.getElementById('loginError'),
      
      // Drawer
      drawerOverlay: document.getElementById('drawerOverlay'),
      drawerClose: document.getElementById('drawerClose'),
      drawerAdminBtn: document.getElementById('drawerAdminBtn'),
      
      // Toast
      toast: document.getElementById('toast'),
      
      // Back to Top
      backToTop: document.getElementById('backToTop'),
      
      // Connection
      connectionStatus: document.getElementById('connectionStatus'),
      connectionText: document.getElementById('connectionText')
    };

    // ================== Utility Functions ==================
    const utils = {
      formatPrice(price) {
        return new Intl.NumberFormat('fa-IR').format(price) + ' ØªÙˆÙ…Ø§Ù†';
      },
      
      showToast(message, type = 'info', duration = 3000) {
        const toast = elements.toast;
        toast.textContent = message;
        toast.className = 'toast';
        toast.classList.add(type, 'show');
        
        setTimeout(() => {
          toast.classList.remove('show');
        }, duration);
      },
      
      getCategoryName(category) {
        return CONFIG.CATEGORY_NAMES[category] || category;
      },
      
      getCategoryIcon(category) {
        return CONFIG.DEFAULT_ICONS[category] || 'ğŸ“';
      },
      
      getBadgeName(badge) {
        const names = {
          new: 'Ø¬Ø¯ÛŒØ¯',
          popular: 'Ù…Ø­Ø¨ÙˆØ¨',
          special: 'ÙˆÛŒÚ˜Ù‡',
          discount: 'ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡'
        };
        return names[badge] || '';
      },
      
      calculateFinalPrice(price, discount) {
        if (discount > 0) {
          return Math.round(price * (100 - discount) / 100);
        }
        return price;
      },
      
      debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      },
      
      updateConnectionStatus(isOnline) {
        state.isOnline = isOnline;
        if (isOnline) {
          elements.connectionStatus.className = 'connection-status online';
          elements.connectionStatus.querySelector('.connection-dot').className = 'connection-dot online';
          elements.connectionText.textContent = 'Ø¢Ù†Ù„Ø§ÛŒÙ†';
        } else {
          elements.connectionStatus.className = 'connection-status offline';
          elements.connectionStatus.querySelector('.connection-dot').className = 'connection-dot offline';
          elements.connectionText.textContent = 'Ø¢ÙÙ„Ø§ÛŒÙ†';
        }
      },
      
      // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ±Ù…
      validateForm(formData) {
        const errors = [];
        
        if (!formData.name || formData.name.trim().length < 2) {
          errors.push('Ù†Ø§Ù… Ø¢ÛŒØªÙ… Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û² Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯');
        }
        
        if (!formData.category) {
          errors.push('Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯');
        }
        
        if (!formData.price || formData.price <= 0) {
          errors.push('Ù‚ÛŒÙ…Øª Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯');
        }
        
        if (formData.discount < 0 || formData.discount > 100) {
          errors.push('ØªØ®ÙÛŒÙ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† Û° ØªØ§ Û±Û°Û° Ø¯Ø±ØµØ¯ Ø¨Ø§Ø´Ø¯');
        }
        
        return errors;
      },
      
      // Ø³Ø§Ø®Øª Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ø¹Ú©Ø³
      getFullImageUrl(imageUrl) {
        if (!imageUrl) return null;
        
        // Ø§Ú¯Ø± Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„ Ø§Ø³Øª (Ø¨Ø§ http Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯)
        if (imageUrl.startsWith('http')) {
          return imageUrl;
        }
        
        // Ø§Ú¯Ø± base64 Ø§Ø³Øª
        if (imageUrl.startsWith('data:image')) {
          return imageUrl;
        }
        
        // Ø§Ú¯Ø± Ù…Ø³ÛŒØ± Ù†Ø³Ø¨ÛŒ Ø§Ø³Øª (Ø¨Ø§ / Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯)
        if (imageUrl.startsWith('/')) {
          return `${CONFIG.API_BASE_URL}${imageUrl}`;
        }
        
        // Ø§Ú¯Ø± ÙÙ‚Ø· Ù†Ø§Ù… ÙØ§ÛŒÙ„ Ø§Ø³Øª
        return `${CONFIG.API_BASE_URL}/uploads/${imageUrl}`;
      },
      
      // ØªØ¨Ø¯ÛŒÙ„ ÙØ§ÛŒÙ„ Ø¨Ù‡ Base64
      fileToBase64(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.readAsDataURL(file);
          reader.onload = () => resolve(reader.result);
          reader.onerror = error => reject(error);
        });
      },
      
      // Ø¨Ø±Ø±Ø³ÛŒ Ù†ÙˆØ¹ ÙØ§ÛŒÙ„
      isValidImageFile(file) {
        const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];
        return validTypes.includes(file.type);
      },
      
      // Ø¨Ø±Ø±Ø³ÛŒ Ø­Ø¬Ù… ÙØ§ÛŒÙ„
      isValidFileSize(file, maxSizeMB = 2) {
        return file.size <= maxSizeMB * 1024 * 1024;
      }
    };

    // ================== API Communication ==================
    const apiManager = {
      // Ù‡Ø¯Ø±Ù‡Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§
      getHeaders(contentType = 'application/json') {
        const headers = {};
        
        if (contentType) {
          headers['Content-Type'] = contentType;
        }
        
        if (state.authToken) {
          headers['Authorization'] = `Bearer ${state.authToken}`;
        }
        
        return headers;
      },
      
      // Ù‡Ù†Ø¯Ù„ÛŒÙ†Ú¯ Ø®Ø·Ø§Ù‡Ø§ÛŒ API
      async handleResponse(response) {
        if (!response.ok) {
          const errorText = await response.text();
          throw new Error(`Ø®Ø·Ø§ÛŒ API: ${response.status} ${response.statusText} - ${errorText}`);
        }
        return response.json();
      },
      
      // Ø¯Ø±ÛŒØ§ÙØª Ù‡Ù…Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ
      async fetchMenuItems() {
        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.MENU_ITEMS}`, {
            method: 'GET',
            headers: this.getHeaders()
          });
          
          const data = await this.handleResponse(response);
          return data;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ù†Ùˆ Ø§Ø² Ø³Ø±ÙˆØ±:', error);
          throw error;
        }
      },
      
      // Ø¯Ø±ÛŒØ§ÙØª ÛŒÚ© Ø¢ÛŒØªÙ… Ø®Ø§Øµ
      async fetchMenuItem(id) {
        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.MENU_ITEMS}/${id}`, {
            method: 'GET',
            headers: this.getHeaders()
          });
          
          const data = await this.handleResponse(response);
          return data;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
      async addMenuItem(itemData) {
        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.MENU_ITEMS}`, {
            method: 'POST',
            headers: this.getHeaders(),
            body: JSON.stringify(itemData)
          });
          
          const data = await this.handleResponse(response);
          return data;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…
      async updateMenuItem(id, itemData) {
        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.MENU_ITEMS}/${id}`, {
            method: 'PUT',
            headers: this.getHeaders(),
            body: JSON.stringify(itemData)
          });
          
          const data = await this.handleResponse(response);
          return data;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // Ø­Ø°Ù Ø¢ÛŒØªÙ…
      async deleteMenuItem(id) {
        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.MENU_ITEMS}/${id}`, {
            method: 'DELETE',
            headers: this.getHeaders()
          });
          
          return this.handleResponse(response);
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³
      async uploadImage(imageFile) {
        try {
          const formData = new FormData();
          formData.append('image', imageFile);
          
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.UPLOAD_IMAGE}`, {
            method: 'POST',
            headers: {
              'Authorization': state.authToken ? `Bearer ${state.authToken}` : ''
            },
            body: formData
          });
          
          const data = await this.handleResponse(response);
          return data;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³:', error);
          throw error;
        }
      },
      
      // Ù„Ø§Ú¯ÛŒÙ† Ú©Ø§Ø±Ø¨Ø±
      async login(username, password) {
        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.LOGIN}`, {
            method: 'POST',
            headers: this.getHeaders(),
            body: JSON.stringify({ username, password })
          });
          
          const data = await this.handleResponse(response);
          
          // Ø°Ø®ÛŒØ±Ù‡ ØªÙˆÚ©Ù† Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
          if (data.token) {
            state.authToken = data.token;
            state.userInfo = data.user || { username };
            state.isAdmin = true;
            
            localStorage.setItem(CONFIG.AUTH_TOKEN_KEY, data.token);
            localStorage.setItem(CONFIG.STORAGE_KEYS.USER_INFO, JSON.stringify(data.user || { username }));
          }
          
          return data;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± ÙˆØ±ÙˆØ¯:', error);
          throw error;
        }
      },
      
      // Ù„Ø§Ú¯ Ø§ÙˆØª
      logout() {
        state.authToken = null;
        state.userInfo = null;
        state.isAdmin = false;
        
        localStorage.removeItem(CONFIG.AUTH_TOKEN_KEY);
        localStorage.removeItem(CONFIG.STORAGE_KEYS.USER_INFO);
      },
      
      // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
      async checkAuth() {
        if (!state.authToken) return false;

        try {
          const response = await fetch(`${CONFIG.API_BASE_URL}${CONFIG.API_ENDPOINTS.MENU_ITEMS}`, {
            method: 'GET',
            headers: this.getHeaders()
          });

          if (response.status === 200 || response.status === 201) {
            return true;
          } else if (response.status === 401 || response.status === 403) {
            this.logout();
            return false;
          }
          
          return true;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª:', error);
          return false;
        }
      }
    };

    // ================== Data Management ==================
    const dataManager = {
      // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ
      async loadMenuItems() {
        // Ø§Ú¯Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒÙ…ØŒ Ø§Ø² API Ø¨Ú¯ÛŒØ±
        if (state.isOnline) {
          try {
            const apiItems = await apiManager.fetchMenuItems();
            if (apiItems && apiItems.length > 0) {
              state.menuItems = apiItems;
              this.saveToLocalStorage();
              utils.showToast('Ù…Ù†Ùˆ Ø§Ø² Ø³Ø±ÙˆØ± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯', 'success');
              return;
            }
          } catch (error) {
            console.log('âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø² APIØŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø­Ø§ÙØ¸Ù‡ Ù…Ø­Ù„ÛŒ:', error);
          }
        }
        
        // Ø§Ú¯Ø± API Ø¬ÙˆØ§Ø¨ Ù†Ø¯Ø§Ø¯ØŒ Ø§Ø² localStorage Ø¨Ú¯ÛŒØ±
        const saved = localStorage.getItem(CONFIG.STORAGE_KEYS.MENU_ITEMS);
        if (saved) {
          state.menuItems = JSON.parse(saved);
          utils.showToast('Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø² Ø­Ø§ÙØ¸Ù‡ Ù…Ø­Ù„ÛŒ', 'info');
        }
        
        // Ø§Ú¯Ø± Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¢ÛŒØªÙ…ÛŒ Ù†Ø¯Ø§Ø±ÛŒÙ…ØŒ Ø¯Ø§Ø¯Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        if (state.menuItems.length === 0) {
          state.menuItems = this.getDefaultItems();
          this.saveToLocalStorage();
        }
      },
      
      // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage
      saveToLocalStorage() {
        localStorage.setItem(CONFIG.STORAGE_KEYS.MENU_ITEMS, JSON.stringify(state.menuItems));
        localStorage.setItem(CONFIG.STORAGE_KEYS.LAST_SYNC, new Date().toISOString());
      },
      
      // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
      getDefaultItems() {
        return [
          {
            id: 1,
            name: "Ù¾Ù†ÛŒØ± Ù…ÙˆØ²Ø§Ø±Ù„Ø§",
            description: "Ù¾Ù†ÛŒØ± Ù…ÙˆØ²Ø§Ø±Ù„Ø§ÛŒ ØªØ§Ø²Ù‡ Ø¨Ø§ Ø³Ø³ Ù…Ø®ØµÙˆØµ Ùˆ Ù†Ø§Ù† Ø³ÛŒØ±.",
            category: "appetizer",
            price: 85000,
            discount: 0,
            status: "available",
            badge: "new",
            image_url: null,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          },
          {
            id: 2,
            name: "Ú†ÛŒØ²Ú©ÛŒÚ© Ø´Ú©Ù„Ø§ØªÛŒ",
            description: "ØªØ±Ú©ÛŒØ¨ Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒØŒ Ø´Ú©Ù„Ø§Øª ØªÙ„Ø® Ùˆ Ø¨ÛŒØ³Ú©ÙˆÛŒØª Ú©Ø±Ù‡â€ŒØ§ÛŒ.",
            category: "dessert",
            price: 120000,
            discount: 0,
            status: "available",
            badge: "popular",
            image_url: null,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          },
          {
            id: 3,
            name: "Ø¨Ø±Ú¯Ø± ÙˆÛŒÚ˜Ù‡",
            description: "Ø¨Ø±Ú¯Ø± Ø¨Ø§ Ú¯ÙˆØ´Øª Û±ÛµÛ° Ú¯Ø±Ù…ÛŒØŒ Ù¾Ù†ÛŒØ± Ú†Ø¯Ø§Ø±ØŒ Ú©Ø§Ù‡Ùˆ Ùˆ Ø³Ø³ Ù…Ø®ØµÙˆØµ.",
            category: "fastfood",
            price: 150000,
            discount: 10,
            status: "available",
            badge: "",
            image_url: null,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          }
        ];
      },
      
      // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ… Ø¨Ø± Ø§Ø³Ø§Ø³ ID
      getItemById(id) {
        return state.menuItems.find(item => item.id === id);
      },
      
      // Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
      async addItem(itemData) {
        try {
          let newItem;
          
          // Ø§Ú¯Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒÙ… Ùˆ ØªÙˆÚ©Ù† Ø¯Ø§Ø±ÛŒÙ…ØŒ Ø¨Ù‡ API Ø§Ø±Ø³Ø§Ù„ Ú©Ù†
          if (state.isOnline && state.authToken) {
            try {
              newItem = await apiManager.addMenuItem(itemData);
              if (newItem) {
                state.menuItems.push(newItem);
                this.saveToLocalStorage();
                utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯', 'success');
                return newItem;
              }
            } catch (apiError) {
              console.log('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ APIØŒ Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­Ù„ÛŒ:', apiError);
            }
          }
          
          // Ø§Ú¯Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ù†Ø¨ÙˆØ¯ ÛŒØ§ Ø®Ø·Ø§ Ø¯Ø§Ø¯ØŒ Ù…Ø­Ù„ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†
          newItem = {
            ...itemData,
            id: Date.now(), // ID Ù…ÙˆÙ‚Øª
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString(),
            local: true // Ø¹Ù„Ø§Ù…Øª Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ
          };
          
          state.menuItems.push(newItem);
          this.saveToLocalStorage();
          utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ù…Ø­Ù„ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯', 'info');
          
          return newItem;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…
      async updateItem(id, updates) {
        try {
          const index = state.menuItems.findIndex(item => item.id === id);
          if (index === -1) throw new Error('Ø¢ÛŒØªÙ… ÛŒØ§ÙØª Ù†Ø´Ø¯');
          
          // Ø§Ú¯Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒÙ… Ùˆ ØªÙˆÚ©Ù† Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ø¢ÛŒØªÙ… Ù…Ø­Ù„ÛŒ Ù†ÛŒØ³ØªØŒ Ø¨Ù‡ API Ø§Ø±Ø³Ø§Ù„ Ú©Ù†
          if (state.isOnline && state.authToken && !state.menuItems[index].local) {
            try {
              const updatedItem = await apiManager.updateMenuItem(id, updates);
              if (updatedItem) {
                state.menuItems[index] = { ...state.menuItems[index], ...updatedItem };
                this.saveToLocalStorage();
                utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± Ø³Ø±ÙˆØ± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯', 'success');
                return updatedItem;
              }
            } catch (apiError) {
              console.log('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ APIØŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­Ù„ÛŒ:', apiError);
            }
          }
          
          // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­Ù„ÛŒ
          const updatedItem = {
            ...state.menuItems[index],
            ...updates,
            updated_at: new Date().toISOString(),
            local: state.menuItems[index].local || false
          };
          
          state.menuItems[index] = updatedItem;
          this.saveToLocalStorage();
          utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ù…Ø­Ù„ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯', 'info');
          
          return updatedItem;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // Ø­Ø°Ù Ø¢ÛŒØªÙ…
      async deleteItem(id) {
        try {
          const index = state.menuItems.findIndex(item => item.id === id);
          if (index === -1) throw new Error('Ø¢ÛŒØªÙ… ÛŒØ§ÙØª Ù†Ø´Ø¯');
          
          // Ø§Ú¯Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒÙ… Ùˆ ØªÙˆÚ©Ù† Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ø¢ÛŒØªÙ… Ù…Ø­Ù„ÛŒ Ù†ÛŒØ³ØªØŒ Ø§Ø² API Ø­Ø°Ù Ú©Ù†
          if (state.isOnline && state.authToken && !state.menuItems[index].local) {
            try {
              await apiManager.deleteMenuItem(id);
            } catch (apiError) {
              console.log('Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø§Ø² APIØŒ Ø­Ø°Ù Ù…Ø­Ù„ÛŒ:', apiError);
            }
          }
          
          // Ø­Ø°Ù Ø§Ø² Ø¢Ø±Ø§ÛŒÙ‡ Ù…Ø­Ù„ÛŒ
          state.menuItems.splice(index, 1);
          this.saveToLocalStorage();
          utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯', 'success');
          
          return true;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¢ÛŒØªÙ…:', error);
          throw error;
        }
      },
      
      // Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ø³Ø±ÙˆØ±
      async syncWithServer() {
        if (!state.isOnline || !state.authToken) return false;
        
        try {
          // Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†
          const localItems = state.menuItems.filter(item => item.local);
          
          // Ù‡Ø± Ø¢ÛŒØªÙ… Ù…Ø­Ù„ÛŒ Ø±Ø§ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ú©Ù†
          for (const item of localItems) {
            try {
              const { local, id, created_at, updated_at, ...itemData } = item;
              const serverItem = await apiManager.addMenuItem(itemData);
              
              // Ø¢ÛŒØªÙ… Ø±Ø§ Ø¯Ø± Ø¢Ø±Ø§ÛŒÙ‡ Ù…Ø­Ù„ÛŒ Ø¨Ø§ Ù†Ø³Ø®Ù‡ Ø³Ø±ÙˆØ± Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†
              const index = state.menuItems.findIndex(i => i.id === item.id);
              if (index !== -1) {
                state.menuItems[index] = { ...serverItem, local: false };
              }
            } catch (error) {
              console.error(`Ø®Ø·Ø§ Ø¯Ø± Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¢ÛŒØªÙ… ${item.id}:`, error);
            }
          }
          
          // Ø§Ø² Ø³Ø±ÙˆØ± Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ú¯ÛŒØ±
          const serverItems = await apiManager.fetchMenuItems();
          if (serverItems && serverItems.length > 0) {
            // ÙÙ‚Ø· Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ù…Ø­Ù„ÛŒ Ø±Ø§ Ø¢Ù¾Ø¯ÛŒØª Ú©Ù†
            state.menuItems = state.menuItems.filter(item => item.local);
            state.menuItems.push(...serverItems);
            this.saveToLocalStorage();
          }
          
          utils.showToast('Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ø³Ø±ÙˆØ± Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯', 'success');
          return true;
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ:', error);
          return false;
        }
      }
    };

    // ================== UI Rendering ==================
    const renderer = {
      // Ø±Ù†Ø¯Ø± Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ùˆ
      renderMenuItems() {
        // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ú¯Ø±ÛŒØ¯Ù‡Ø§
        [elements.appetizerGrid, elements.fastfoodGrid, elements.dessertGrid, elements.hotGrid, elements.coldGrid]
          .forEach(grid => grid.innerHTML = '');
        
        // Ø±Ù†Ø¯Ø± Ù‡Ø± Ø¢ÛŒØªÙ…
        state.menuItems.forEach(item => {
          const grid = this.getGridByCategory(item.category);
          if (!grid) return;
          
          const finalPrice = utils.calculateFinalPrice(item.price, item.discount);
          const badgeName = utils.getBadgeName(item.badge);
          const icon = utils.getCategoryIcon(item.category);
          const imageUrl = item.image_url ? utils.getFullImageUrl(item.image_url) : null;
          
          const card = document.createElement('div');
          card.className = `menu-card ${item.status === 'unavailable' ? 'unavailable' : ''} ${item.discount > 0 ? 'discounted' : ''}`;
          card.dataset.id = item.id;
          card.dataset.name = item.name;
          card.dataset.category = item.category;
          card.dataset.price = finalPrice;
          
          // Ø¹Ù„Ø§Ù…Øª Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ
          const localBadge = item.local ? '<span class="badge" style="background:var(--warning);color:white;font-size:0.7rem;padding:2px 8px;margin-right:4px;">Ù…Ø­Ù„ÛŒ</span>' : '';
          
          card.innerHTML = `
            ${imageUrl && !imageUrl.includes('unsplash.com') ? 
              `<img src="${imageUrl}" alt="${item.name}" class="menu-image" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\\'no-image-placeholder\\'>${icon}</div>';">` : 
              `<div class="menu-image no-image-placeholder">${icon}</div>`
            }
            <div class="card-content">
              <div class="card-header">
                <h3 class="menu-title">${item.name} ${localBadge}</h3>
                <div class="menu-price">
                  ${utils.formatPrice(finalPrice)}
                  ${item.discount > 0 ? `<span class="original-price">${utils.formatPrice(item.price)}</span>` : ''}
                </div>
              </div>
              <p class="menu-description">${item.description}</p>
              <div class="card-footer">
                ${badgeName ? `<span class="badge badge-${item.badge}">${badgeName}</span>` : ''}
                ${item.status === 'unavailable' ? '<span class="badge badge-unavailable">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</span>' : ''}
                <button class="btn-details" data-action="details">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
              </div>
            </div>
          `;
          
          grid.appendChild(card);
        });
        
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† event listenerÙ‡Ø§
        this.attachCardEvents();
        filterManager.applyFilters();
      },
      
      // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ú¯Ø±ÛŒØ¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
      getGridByCategory(category) {
        const grids = {
          appetizer: elements.appetizerGrid,
          fastfood: elements.fastfoodGrid,
          dessert: elements.dessertGrid,
          hot: elements.hotGrid,
          cold: elements.coldGrid
        };
        return grids[category];
      },
      
      // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† event listener Ø¨Ù‡ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§
      attachCardEvents() {
        document.querySelectorAll('.btn-details').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const card = e.target.closest('.menu-card');
            if (card) {
              const id = parseInt(card.dataset.id);
              modalManager.openDetailModal(id);
            }
          });
        });
        
        // Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯
        document.querySelectorAll('.menu-card').forEach(card => {
          card.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              const id = parseInt(card.dataset.id);
              modalManager.openDetailModal(id);
            }
          });
        });
      },
      
      // Ø±Ù†Ø¯Ø± Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø¯Ø± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
      renderItemsList() {
        elements.itemsList.innerHTML = '';
        
        state.menuItems.forEach(item => {
          const div = document.createElement('div');
          div.className = 'item-card';
          div.dataset.id = item.id;
          
          if (state.currentEditId === item.id) {
            div.classList.add('active');
          }
          
          const finalPrice = utils.calculateFinalPrice(item.price, item.discount);
          const icon = utils.getCategoryIcon(item.category);
          const imageUrl = item.image_url ? utils.getFullImageUrl(item.image_url) : null;
          
          // Ø¹Ù„Ø§Ù…Øª Ø¨Ø±Ø§ÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ
          const localTag = item.local ? '<div style="color:var(--warning);font-size:0.75rem;margin-top:2px">Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­Ù„ÛŒ</div>' : '';
          
          div.innerHTML = `
            ${imageUrl && !imageUrl.includes('unsplash.com') ? 
              `<img src="${imageUrl}" alt="${item.name}" class="item-card-image" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\\'item-card-image no-image-placeholder\\'>${icon}</div>';">` : 
              `<div class="item-card-image no-image-placeholder">${icon}</div>`
            }
            <div class="item-card-content">
              <div class="item-card-title">${item.name}</div>
              <div class="item-card-meta">
                <span>${utils.getCategoryName(item.category)}</span>
                <span class="item-card-price">${utils.formatPrice(finalPrice)}</span>
              </div>
              ${item.status === 'unavailable' ? '<div style="color:var(--danger);font-size:0.85rem;margin-top:4px">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</div>' : ''}
              ${localTag}
            </div>
          `;
          
          div.addEventListener('click', () => adminManager.editItem(item.id));
          elements.itemsList.appendChild(div);
        });
      },
      
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ¹Ø¯Ø§Ø¯ Ù†ØªØ§ÛŒØ¬
      updateResultCount(count) {
        elements.resultCount.textContent = `${count} Ù…ÙˆØ±Ø¯`;
      }
    };

    // ================== Modal Management ==================
    const modalManager = {
      // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…ÙˆØ¯Ø§Ù„ Ø¬Ø²Ø¦ÛŒØ§Øª
      openDetailModal(id) {
        const item = dataManager.getItemById(id);
        if (!item) return;
        
        const finalPrice = utils.calculateFinalPrice(item.price, item.discount);
        const icon = utils.getCategoryIcon(item.category);
        const imageUrl = item.image_url ? utils.getFullImageUrl(item.image_url) : null;
        
        elements.modalTitle.textContent = item.name;
        elements.modalPrice.textContent = utils.formatPrice(finalPrice);
        elements.modalDescription.textContent = item.description;
        
        if (imageUrl && !imageUrl.includes('unsplash.com')) {
          elements.modalImage.innerHTML = `<img src="${imageUrl}" alt="${item.name}" class="modal-image" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\\'no-image-placeholder\\'>${icon}</div>';" style="width:100%;height:100%;object-fit:cover;">`;
        } else {
          elements.modalImage.innerHTML = `<div class="no-image-placeholder">${icon}</div>`;
        }
        
        elements.modalCategory.textContent = utils.getCategoryName(item.category);
        elements.modalStatus.textContent = item.status === 'available' ? 'Ù…ÙˆØ¬ÙˆØ¯' : 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯';
        elements.modalDiscount.textContent = item.discount > 0 ? `${item.discount}%` : 'Ù†Ø¯Ø§Ø±Ø¯';
        elements.modalBadge.textContent = item.badge ? utils.getBadgeName(item.badge) : 'Ù†Ø¯Ø§Ø±Ø¯';
        
        elements.detailModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      },
      
      // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„ Ø¬Ø²Ø¦ÛŒØ§Øª
      closeDetailModal() {
        elements.detailModal.classList.remove('active');
        document.body.style.overflow = '';
      }
    };

    // ================== Filter Management ==================
    const filterManager = {
      init() {
        // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙÛŒÙ„ØªØ±
        document.querySelectorAll('.filter-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            state.activeFilter = btn.dataset.filter;
            this.applyFilters();
          });
        });
        
        // Ø¬Ø³ØªØ¬Ùˆ
        elements.searchInput.addEventListener('input', utils.debounce(() => {
          state.searchTerm = elements.searchInput.value.toLowerCase();
          this.applyFilters();
        }, 300));
      },
      
      applyFilters() {
        const allCards = document.querySelectorAll('.menu-card');
        let visibleCount = 0;
        
        allCards.forEach(card => {
          const matchesFilter = state.activeFilter === 'all' || card.dataset.category === state.activeFilter;
          const matchesSearch = !state.searchTerm || 
            card.dataset.name.toLowerCase().includes(state.searchTerm) ||
            card.querySelector('.menu-description').textContent.toLowerCase().includes(state.searchTerm);
          
          if (matchesFilter && matchesSearch) {
            card.style.display = 'block';
            visibleCount++;
          } else {
            card.style.display = 'none';
          }
        });
        
        renderer.updateResultCount(visibleCount);
      }
    };

    // ================== Admin Management ==================
    const adminManager = {
      init() {
        // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
        this.checkAuthStatus();
      },
      
      // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
      async checkAuthStatus() {
        if (state.authToken) {
          const isValid = await apiManager.checkAuth();
          if (isValid) {
            state.isAdmin = true;
            elements.adminBtn.textContent = 'Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª';
          } else {
            apiManager.logout();
          }
        }
      },
      
      // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ù„Ø§Ú¯ÛŒÙ†
      showLogin() {
        elements.loginModal.classList.add('active');
        document.body.style.overflow = 'hidden';
        elements.username.focus();
      },
      
      // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ÙØ±Ù… Ù„Ø§Ú¯ÛŒÙ†
      hideLogin() {
        elements.loginModal.classList.remove('active');
        document.body.style.overflow = '';
        elements.username.value = '';
        elements.password.value = '';
        elements.loginError.classList.remove('show');
      },
      
      // Ù„Ø§Ú¯ÛŒÙ†
      async login() {
        const username = elements.username.value.trim();
        const password = elements.password.value.trim();
        
        if (!username || !password) {
          elements.loginError.textContent = 'Ù„Ø·ÙØ§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯';
          elements.loginError.classList.add('show');
          return;
        }
        
        try {
          const result = await apiManager.login(username, password);
          
          if (result && result.token) {
            this.hideLogin();
            this.showAdminPanel();
            utils.showToast('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆØ§Ø±Ø¯ Ø´Ø¯ÛŒØ¯', 'success');
            
            // Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ Ø§Ø² Ù„Ø§Ú¯ÛŒÙ†
            if (state.isOnline) {
              setTimeout(() => {
                dataManager.syncWithServer().then(() => {
                  renderer.renderMenuItems();
                  renderer.renderItemsList();
                });
              }, 1000);
            }
          } else {
            elements.loginError.textContent = result?.message || 'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª';
            elements.loginError.classList.add('show');
          }
        } catch (error) {
          elements.loginError.textContent = 'Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ±';
          elements.loginError.classList.add('show');
          console.error('Login error:', error);
        }
      },
      
      // Ù„Ø§Ú¯â€ŒØ§ÙˆØª
      logout() {
        apiManager.logout();
        this.hideAdminPanel();
        utils.showToast('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯', 'info');
      },
      
      // Ù†Ù…Ø§ÛŒØ´ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
      showAdminPanel() {
        elements.adminPanel.classList.add('active');
        document.body.style.overflow = 'hidden';
        this.resetForm();
        renderer.renderItemsList();
      },
      
      // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
      hideAdminPanel() {
        elements.adminPanel.classList.remove('active');
        document.body.style.overflow = '';
      },
      
      // Ø±ÛŒØ³Øª ÙØ±Ù…
      resetForm() {
        state.currentEditId = null;
        state.currentImage = null;
        state.currentImageFile = null;
        
        elements.formTitle.textContent = 'Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯';
        elements.itemName.value = '';
        elements.itemCategory.value = 'appetizer';
        elements.itemPrice.value = '';
        elements.itemDiscount.value = '0';
        elements.itemStatus.value = 'available';
        elements.itemBadge.value = '';
        elements.itemDescription.value = '';
        
        elements.imagePreview.style.display = 'none';
        elements.previewImage.src = '';
        elements.itemImage.value = '';
        
        elements.deleteBtn.style.display = 'none';
        
        // Ø­Ø°Ù Ú©Ù„Ø§Ø³ active Ø§Ø² Ù‡Ù…Ù‡ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§
        document.querySelectorAll('.item-card').forEach(card => {
          card.classList.remove('active');
        });
      },
      
      // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…
      editItem(id) {
        const item = dataManager.getItemById(id);
        if (!item) return;
        
        state.currentEditId = id;
        state.currentImage = item.image_url;
        state.currentImageFile = null;
        
        elements.formTitle.textContent = 'ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…';
        elements.itemName.value = item.name;
        elements.itemCategory.value = item.category;
        elements.itemPrice.value = item.price;
        elements.itemDiscount.value = item.discount || 0;
        elements.itemStatus.value = item.status;
        elements.itemBadge.value = item.badge || '';
        elements.itemDescription.value = item.description;
        
        if (item.image_url) {
          const imageUrl = utils.getFullImageUrl(item.image_url);
          if (imageUrl && !imageUrl.includes('unsplash.com')) {
            elements.imagePreview.style.display = 'block';
            elements.previewImage.src = imageUrl;
          } else {
            elements.imagePreview.style.display = 'none';
          }
        } else {
          elements.imagePreview.style.display = 'none';
        }
        
        elements.deleteBtn.style.display = 'block';
        
        // Ù‡Ø§ÛŒÙ„Ø§ÛŒØª Ø¢ÛŒØªÙ… ÙØ¹Ø§Ù„
        document.querySelectorAll('.item-card').forEach(card => {
          card.classList.remove('active');
          if (parseInt(card.dataset.id) === id) {
            card.classList.add('active');
          }
        });
      },
      
      // Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…
      async saveItem() {
        const name = elements.itemName.value.trim();
        const category = elements.itemCategory.value;
        const price = parseInt(elements.itemPrice.value);
        const discount = parseInt(elements.itemDiscount.value) || 0;
        const status = elements.itemStatus.value;
        const badge = elements.itemBadge.value || '';
        const description = elements.itemDescription.value.trim();
        
        // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
        const formData = { name, category, price, discount, status, badge, description };
        const errors = utils.validateForm(formData);
        
        if (errors.length > 0) {
          utils.showToast(errors[0], 'error');
          return;
        }
        
        // Ø§Ú¯Ø± Ø¹Ú©Ø³ Ø¬Ø¯ÛŒØ¯ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡ØŒ Ø§Ø¨ØªØ¯Ø§ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†
        let imageUrl = state.currentImage;
        
        if (state.currentImageFile) {
          if (state.isOnline && state.authToken) {
            try {
              utils.showToast('Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³...', 'info');
              const uploadResult = await apiManager.uploadImage(state.currentImageFile);
              
              if (uploadResult && uploadResult.image_url) {
                imageUrl = uploadResult.image_url;
                utils.showToast('Ø¹Ú©Ø³ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯', 'success');
              }
            } catch (uploadError) {
              console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³:', uploadError);
              utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ØŒ Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ… Ø¨Ø¯ÙˆÙ† Ø¹Ú©Ø³', 'warning');
            }
          } else {
            // Ø¯Ø± Ø­Ø§Ù„Øª Ø¢ÙÙ„Ø§ÛŒÙ†ØŒ Ø¹Ú©Ø³ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª base64 Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†
            try {
              const base64Image = await utils.fileToBase64(state.currentImageFile);
              imageUrl = base64Image;
              utils.showToast('Ø¹Ú©Ø³ Ø¨Ù‡ ØµÙˆØ±Øª Ù…Ø­Ù„ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯', 'info');
            } catch (error) {
              console.error('Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„ Ø¹Ú©Ø³:', error);
              utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¹Ú©Ø³', 'error');
            }
          }
        }
        
        // Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø¨Ú©â€ŒØ§Ù†Ø¯
        const itemData = {
          name,
          description,
          category,
          price,
          discount,
          status,
          badge,
          image_url: imageUrl || null
        };
        
        try {
          if (state.currentEditId) {
            // ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ… Ù…ÙˆØ¬ÙˆØ¯
            await dataManager.updateItem(state.currentEditId, itemData);
            utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆÛŒØ±Ø§ÛŒØ´ Ø´Ø¯', 'success');
          } else {
            // Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯
            await dataManager.addItem(itemData);
            utils.showToast('Ø¢ÛŒØªÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯', 'success');
          }
          
          // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ UI
          renderer.renderMenuItems();
          renderer.renderItemsList();
          this.resetForm();
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…:', error);
          utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØªÙ…', 'error');
        }
      },
      
      // Ø­Ø°Ù Ø¢ÛŒØªÙ…
      async deleteItem() {
        if (!state.currentEditId || !confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')) return;
        
        try {
          await dataManager.deleteItem(state.currentEditId);
          utils.showToast('Ø¢ÛŒØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯', 'success');
          renderer.renderMenuItems();
          renderer.renderItemsList();
          this.resetForm();
        } catch (error) {
          console.error('Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¢ÛŒØªÙ…:', error);
          utils.showToast('Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¢ÛŒØªÙ…', 'error');
        }
      },
      
      // Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³
      async handleImageUpload(event) {
        const file = event.target.files[0];
        if (!file) return;
        
        // Ø¨Ø±Ø±Ø³ÛŒ Ù†ÙˆØ¹ ÙØ§ÛŒÙ„
        if (!utils.isValidImageFile(file)) {
          utils.showToast('ÙÙ‚Ø· ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ JPG, PNG, WebP Ù…Ø¬Ø§Ø² Ù‡Ø³ØªÙ†Ø¯', 'error');
          return;
        }
        
        // Ø¨Ø±Ø±Ø³ÛŒ Ø­Ø¬Ù… ÙØ§ÛŒÙ„ (Ø­Ø¯Ø§Ú©Ø«Ø± 2MB)
        if (!utils.isValidFileSize(file)) {
          utils.showToast('Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² 2MB Ø¨Ø§Ø´Ø¯', 'error');
          return;
        }
        
        state.currentImageFile = file;
        
        // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
        const reader = new FileReader();
        reader.onload = (e) => {
          elements.imagePreview.style.display = 'block';
          elements.previewImage.src = e.target.result;
        };
        reader.readAsDataURL(file);
      },
      
      // Ø­Ø°Ù Ø¹Ú©Ø³
      removeImage() {
        state.currentImage = null;
        state.currentImageFile = null;
        elements.imagePreview.style.display = 'none';
        elements.previewImage.src = '';
        elements.itemImage.value = '';
      }
    };

    // ================== Theme Management ==================
    const themeManager = {
      init() {
        const savedTheme = localStorage.getItem(CONFIG.STORAGE_KEYS.THEME);
        state.theme = savedTheme || (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
        this.applyTheme();
      },
      
      applyTheme() {
        if (state.theme === 'light') {
          document.body.classList.add('light');
          elements.themeBtn.textContent = 'â˜€ï¸';
        } else {
          document.body.classList.remove('light');
          elements.themeBtn.textContent = 'ğŸŒ™';
        }
        localStorage.setItem(CONFIG.STORAGE_KEYS.THEME, state.theme);
      },
      
      toggleTheme() {
        state.theme = state.theme === 'light' ? 'dark' : 'light';
        this.applyTheme();
      }
    };

    // ================== Scroll Management ==================
    const scrollManager = {
      init() {
        window.addEventListener('scroll', () => {
          this.handleScroll();
          this.handleSectionVisibility();
        });
        
        elements.backToTop.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // Ø§Ø³Ú©Ø±ÙˆÙ„ Ù†Ø±Ù… Ø¨Ø±Ø§ÛŒ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
        document.querySelectorAll('a[href^="#"]').forEach(link => {
          link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            if (href === '#') return;
            
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
              target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
          });
        });
        
        // Ø¯Ú©Ù…Ù‡ Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù…Ù†Ùˆ
        elements.scrollToMenu.addEventListener('click', () => {
          elements.menuContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
      },
      
      handleScroll() {
        const scrollY = window.scrollY;
        
        // Ú©ÙˆÚ†Ú© Ú©Ø±Ø¯Ù† Ù‡Ø¯Ø±
        if (scrollY > 100) {
          elements.header.style.padding = '10px 0';
          elements.header.style.backdropFilter = 'blur(20px)';
        } else {
          elements.header.style.padding = '';
          elements.header.style.backdropFilter = '';
        }
        
        // Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§
        if (scrollY > 500) {
          elements.backToTop.classList.add('show');
        } else {
          elements.backToTop.classList.remove('show');
        }
      },
      
      handleSectionVisibility() {
        const sections = document.querySelectorAll('.menu-section');
        const navLinks = document.querySelectorAll('.nav-link, .drawer-link');
        
        let currentSection = '';
        sections.forEach(section => {
          const rect = section.getBoundingClientRect();
          if (rect.top <= 150 && rect.bottom >= 150) {
            currentSection = section.id;
          }
          
          // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ visible ÙˆÙ‚ØªÛŒ Ø¯Ø± viewport Ø§Ø³Øª
          if (rect.top < window.innerHeight - 100) {
            section.classList.add('visible');
          }
        });
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ ÙØ¹Ø§Ù„
        navLinks.forEach(link => {
          const section = link.dataset.section;
          link.classList.toggle('active', section === currentSection);
        });
      }
    };

    // ================== Drawer Management ==================
    const drawerManager = {
      init() {
        elements.hamburgerBtn.addEventListener('click', this.openDrawer);
        elements.drawerClose.addEventListener('click', this.closeDrawer);
        elements.drawerOverlay.addEventListener('click', (e) => {
          if (e.target === elements.drawerOverlay) {
            this.closeDrawer();
          }
        });
        
        // Ø¯Ú©Ù…Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ø¯Ø± Ø¯Ø±Ø§ÙˆØ±
        elements.drawerAdminBtn.addEventListener('click', () => {
          this.closeDrawer();
          if (state.isAdmin) {
            adminManager.showAdminPanel();
          } else {
            adminManager.showLogin();
          }
        });
      },
      
      openDrawer() {
        elements.drawerOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      },
      
      closeDrawer() {
        elements.drawerOverlay.classList.remove('active');
        document.body.style.overflow = '';
      }
    };

    // ================== Event Listeners ==================
    const setupEventListeners = () => {
      // ØªØºÛŒÛŒØ± ØªÙ…
      elements.themeBtn.addEventListener('click', () => themeManager.toggleTheme());
      
      // Ø¯Ú©Ù…Ù‡ Ø§Ø¯Ù…ÛŒÙ†
      elements.adminBtn.addEventListener('click', () => {
        if (state.isAdmin) {
          adminManager.showAdminPanel();
        } else {
          adminManager.showLogin();
        }
      });
      
      // Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª
      elements.backBtn.addEventListener('click', () => adminManager.hideAdminPanel());
      
      // Ø¯Ú©Ù…Ù‡ Ø®Ø±ÙˆØ¬
      elements.logoutBtn.addEventListener('click', () => adminManager.logout());
      
      // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„
      elements.modalClose.addEventListener('click', () => modalManager.closeDetailModal());
      elements.detailModal.addEventListener('click', (e) => {
        if (e.target === elements.detailModal) {
          modalManager.closeDetailModal();
        }
      });
      
      // Ù„Ø§Ú¯ÛŒÙ†
      elements.loginBtn.addEventListener('click', () => adminManager.login());
      elements.password.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') adminManager.login();
      });
      
      // ÙØ±Ù… Ø§Ø¯Ù…ÛŒÙ†
      elements.addNewBtn.addEventListener('click', () => adminManager.resetForm());
      elements.saveBtn.addEventListener('click', () => adminManager.saveItem());
      elements.cancelBtn.addEventListener('click', () => adminManager.resetForm());
      elements.deleteBtn.addEventListener('click', () => adminManager.deleteItem());
      
      // Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³
      elements.itemImage.addEventListener('change', (e) => adminManager.handleImageUpload(e));
      elements.removeImage.addEventListener('click', () => adminManager.removeImage());
      
      // Ø¨Ø³ØªÙ† Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (elements.loginModal.classList.contains('active')) {
            adminManager.hideLogin();
          }
          if (elements.detailModal.classList.contains('active')) {
            modalManager.closeDetailModal();
          }
          if (elements.adminPanel.classList.contains('active')) {
            adminManager.hideAdminPanel();
          }
          if (elements.drawerOverlay.classList.contains('active')) {
            drawerManager.closeDrawer();
          }
        }
      });
      
      // Ú©Ù„ÛŒØ¯ Ù…ÛŒØ§Ù†Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ
      document.addEventListener('keydown', (e) => {
        if (e.key === '/' && document.activeElement !== elements.searchInput) {
          e.preventDefault();
          elements.searchInput.focus();
        }
      });
      
      // ØªØ´Ø®ÛŒØµ Ø¢Ù†Ù„Ø§ÛŒÙ†/Ø¢ÙÙ„Ø§ÛŒÙ†
      window.addEventListener('online', async () => {
        utils.updateConnectionStatus(true);
        
        // Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ø³Ø±ÙˆØ±
        if (state.authToken) {
          try {
            await dataManager.syncWithServer();
            renderer.renderMenuItems();
            renderer.renderItemsList();
          } catch (error) {
            console.error('Ø®Ø·Ø§ Ø¯Ø± Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ:', error);
          }
        }
      });
      
      window.addEventListener('offline', () => {
        utils.updateConnectionStatus(false);
      });
    };

    // ================== Initialization ==================
    const init = async () => {
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„
      utils.updateConnectionStatus(state.isOnline);
      
      // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
      await dataManager.loadMenuItems();
      
      // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù…Ø¯ÛŒØ±ÛŒØªâ€ŒÙ‡Ø§
      themeManager.init();
      adminManager.init();
      filterManager.init();
      scrollManager.init();
      drawerManager.init();
      
      // ØªÙ†Ø¸ÛŒÙ… event listenerÙ‡Ø§
      setupEventListeners();
      
      // Ø±Ù†Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ‡
      renderer.renderMenuItems();
      
      // Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ú¯Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒÙ…
      if (state.isOnline && state.authToken) {
        setTimeout(() => {
          dataManager.syncWithServer().then(() => {
            renderer.renderMenuItems();
            renderer.renderItemsList();
          });
        }, 2000);
      }
      
      // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ
      setTimeout(() => {
        utils.showToast('Ø¨Ù‡ Ú©Ø§ÙÙ‡ ØªØ§Ù¾ ØªÙ†ÙˆØ± Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!', 'info');
      }, 1000);
    };

    // Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡
    init();
  </script>
</body>
</html>
